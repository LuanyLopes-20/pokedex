"use strict";(self.webpackChunkassignments_frontend=self.webpackChunkassignments_frontend||[]).push([[61435],{272453:function(e,t,n){n.d(t,{Z:function(){return be}});var a=n(727421),i=n(129141),r=n(365705),o=n(883726),s=n(113673),c=n(830529),u=n(873729),l=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function f(e,t){void 0===t&&(t=l);var n=null;if(e)for(var a=e.split(","),i=0;i<a.length;i++)d(a[i],t)&&(n?n+=","+a[i]:n=a[i]);return n}function d(e,t){if(void 0===t&&(t=l),!e||e.length<4)return!1;for(var n=!1,a=e.substring(0,3).toString().toUpperCase(),i=0;i<t.length;i++)if(t[i]+":"===a&&e.length<=256){n=!0;break}return n}function p(){return this.getExpId()}var g=function(){function e(t,n){var a=null,o=l.slice(0),s="Treatments",d=(0,c.JP)(n),p=t;(0,i.Z)(e,this,(function(e){if((0,u.Nv)()){var n=(0,u.Me)().documentElement;n&&(e.locale=n.lang)}function i(e){e!==a&&(a=f(e,o))}e.env=t.env?t.env:function(e){var t,n={},a=(0,u.Me)();if(a){t=a&&a.querySelectorAll("meta");for(var i=0;i<t.length;i++){var r=t[i];if(r.name)if(0===r.name.toLowerCase().indexOf(e)){var o=r.name.replace(e,"");n[o]=r.content}}}return n}("awa-").env,e.getExpId=function(){return p.expId?(i(p.expId),a):(i((0,r.Do)(d,s)),a)}}))}return e.validateAppExpId=f,e._staticInit=void(0,o.l_)(e.prototype,"expId",p),e}(),v=function(){},h=n(651698);function m(){return this.getLocalId()}function I(e){this.setLocalId(e)}var T=function(){function e(t,n,a){var s,u=n,l=(0,c.JP)(a,t);(0,i.Z)(e,this,(function(n){if(l&&l.isEnabled()&&(g(),u.enableApplicationInsightsUser)){var a=(0,r.Do)(l,e.userCookieName);if(a){var i=a.split(e.cookieSeparator);i.length>0&&(n.id=i[0])}if(!n.id){n.id=(0,h.pZ)(t&&!(0,o.o8)(t.idLength)?t.idLength:22);var c=(0,o.Y6)(new Date);n.accountAcquisitionDate=c;var f=[n.id,c],d=u.cookieDomain?u.cookieDomain:void 0;l.set(e.userCookieName,f.join(e.cookieSeparator),31536e3,d)}}if("undefined"!=typeof navigator){var p=navigator;n.locale=p.userLanguage||p.language}function g(){if(!u.hashIdentifiers&&!u.dropIdentifiers){var e=(0,r.Do)(l,"MUID");e&&(s="t:"+e)}return s}n.getLocalId=function(){return s||g()},n.setLocalId=function(e){s=e}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e._staticInit=void(0,o.l_)(e.prototype,"localId",m,I),e}(),C="([\\d,.]+)",E="Unknown",b="Edg/",y=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:b,b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],S=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];function N(e,t){return t.indexOf(e)>-1}function A(e,t){for(var n=0;n<t.length;n++)if(e==t[n].brand)return t[n].version;return null}function O(e,t){return"MSIE"===t?function(e){var t=e.match(new RegExp("MSIE ([\\d,.]+)"));if(t)return t[1];var n=e.match(new RegExp("rv:([\\d,.]+)"));if(n)return n[1]}(e):function(e,t){"Safari"===e?e="Version":"Edge"===e&&N(b,t)&&(e="Edg");var n=t.match(new RegExp(e+"/"+C));if(n)return n[1];if("Opera"===e&&(n=t.match(new RegExp("OPR/([\\d,.]+)"))))return n[1];return E}(t,e)}function w(){return this.getUserConsent()}var D=function(){function e(t,n){var a=(0,c.JP)(n),s=t||{};(0,i.Z)(e,this,(function(e){var t=(0,u.k$)();if(t){var n=t.hostname;n&&(e.domain="file:"===t.protocol?"local":n)}if(s.populateBrowserInfo){var i=s.userAgent,c=(s.userAgentData||{}).brands,l=(0,u.jW)();l&&(i=i||l.userAgent||"",c=c||(l.userAgentData||{}).brands),function(t,n){if((0,o.kJ)(n))try{for(var a=0;a<S.length;a++){var i=A(S[a].br,n);if(i)return e.browser=S[a].b,void(e.browserVer=i)}}catch(e){}if(t){var r=function(e){if(e)for(var t=0;t<y.length;t++)if(N(y[t].ua,e))return y[t].b;return E}(t);e.browser=r,e.browserVer=O(t,r)}}(i,c);var f=function(){var e={h:0,w:0},t=(0,u.Jj)();return t&&t.screen&&(e.h=screen.height,e.w=screen.width),e}();e.screenRes=f.w+"X"+f.h}e.getUserConsent=function(){return s.userConsented||!!(0,r.Do)(a,s.userConsentCookieName||"MSCC")},e.getUserConsentDetails=function(){try{var e=s.callback;if(e&&e.userConsentDetails){var t=e.userConsentDetails();if(t)return JSON.stringify({Required:t.Required||!1,Analytics:t.Analytics||!1,SocialMedia:t.SocialMedia||!1,Advertising:t.Advertising||!1})}}catch(e){}return null},(0,o.l_)(e,"userConsent",e.getUserConsent)}))}return e._staticInit=void(0,o.l_)(e.prototype,"userConsent",w),e}(),P={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i},_={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},k="Unknown",x=[{r:P.WINPHONE,os:"Windows Phone"},{r:P.WINRT,os:"Windows RT"},{r:P.WIN,os:"Windows"},{r:P.IOS,os:"iOS"},{r:P.ANDROID,os:"Android"},{r:P.LINUX,os:"Linux"},{r:P.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:P.OSX,os:"Mac OS X"}];function R(e,t){return"Windows"===t?M(e,"Windows NT"):"Android"===t?M(e,t):"Mac OS X"===t?function(e){var t=e.match(new RegExp("Mac OS X ([\\d,_,.]+)"));if(t){var n=t[1].replace(/_/g,".");if(n){var a=U(n);return a?n.split(a)[0]:n}}return k}(e):"iOS"===t?function(e){var t=e.match(new RegExp("OS ([\\d,_,.]+)"));if(t){var n=t[1].replace(/_/g,".");if(n){var a=U(n);return a?n.split(a)[0]:n}}return k}(e):k}function M(e,t){var n=e.match(new RegExp(t+" ([\\d,.]+)"));return n?_[n[1]]?_[n[1]]:n[1]:k}function U(e){return e.indexOf(".")>-1?".":e.indexOf("_")>-1?"_":null}var L=function(e){if(e.populateOperatingSystemInfo){var t=this,n=(0,u.jW)()||{},a=e.userAgent||n.userAgent||"",i=e.userAgentData||n.userAgentData||{};if(a){var r=function(e){for(var t=0;t<x.length;t++){var n=x[t];if(n.r&&e.match(n.r))return n.os;if(n.s&&-1!==e.indexOf(n.s))return n.os}return k}(a.toLowerCase());t.name=r,t.ver=R(a,r)}t.name&&t.name!==k||!(0,o.HD)(i.platform)||(t.name=i.platform)}};function V(){return this.getMsfpc()}function F(){return this.getAnid()}var B=function(){function e(t,n){var a=(0,c.JP)(n);(0,i.Z)(e,this,(function(e){t.serviceName&&(e.serviceName=t.serviceName),e.getMsfpc=function(){return(0,r.Do)(a,"MSFPC")},e.getAnid=function(){return(0,r.Do)(a,"ANON").slice(0,34)}}))}var t;return e._staticInit=(t=e.prototype,(0,o.l_)(t,"msfpc",V),void(0,o.l_)(t,"anid",F)),e}(),H=function(e){var t=this;t.popSample=100,t.eventFlags=0,e.hashIdentifiers&&(t.eventFlags=1048576|t.eventFlags),e.dropIdentifiers&&(t.eventFlags=2097152|t.eventFlags)},W=function(){var e=(new Date).getTimezoneOffset(),t=e%60,n=(e-t)/60,a="+";n>0&&(a="-"),n=Math.abs(n),t=Math.abs(t),this.tz=a+(n<10?"0"+n:n.toString())+":"+(t<10?"0"+t:t.toString())},J=function(){};function K(){return this.getId()}function j(e){this.setId(e)}var q=function(){function e(){(0,i.Z)(e,this,(function(e){e.setId=function(t){e.customId=t},e.getId=function(){return(0,o.HD)(e.customId)?e.customId:e.automaticId}}))}return e._staticInit=void(0,o.l_)(e.prototype,"id",K,j),e}(),G=n(486851),X=function(e,t,n,a){if(e.enableApplicationInsightsTrace){var i=this;i.traceId=t||(0,G.DO)(),i.parentId=n,i.name=a;var r=(0,u.k$)();r&&r.pathname&&(i.name=r.pathname)}},z=n(809475),Y=(0,z.cc)({UserExt:[0,"user"],DeviceExt:[1,"device"],TraceExt:[2,"trace"],WebExt:[3,"web"],AppExt:[4,"app"],OSExt:[5,"os"],SdkExt:[6,"sdk"],IntWebExt:[7,"intweb"],UtcExt:[8,"utc"],LocExt:[9,"loc"],CloudExt:[10,"cloud"]}),Z=(0,z.cc)({id:[0,"id"],ver:[1,"ver"],appName:[2,"name"],locale:[3,"locale"],expId:[4,"expId"],env:[5,"env"]}),Q=(0,z.cc)({domain:[0,"domain"],browser:[1,"browser"],browserVer:[2,"browserVer"],screenRes:[3,"screenRes"],userConsent:[4,"userConsent"],consentDetails:[5,"consentDetails"]}),$=(0,z.cc)({locale:[0,"locale"],localId:[1,"localId"],id:[2,"id"]}),ee=(0,z.cc)({osName:[0,"name"],ver:[1,"ver"]}),te=(0,z.cc)({ver:[0,"ver"],seq:[1,"seq"],installId:[2,"installId"],epoch:[3,"epoch"]}),ne=(0,z.cc)({msfpc:[0,"msfpc"],anid:[1,"anid"],serviceName:[2,"serviceName"]}),ae=(0,z.cc)({popSample:[0,"popSample"],eventFlags:[1,"eventFlags"]}),ie=(0,z.cc)({tz:[0,"tz"]}),re=(0,z.cc)({sessionId:[0,"sesId"]}),oe=(0,z.cc)({localId:[0,"localId"],deviceClass:[1,"deviceClass"],make:[2,"make"],model:[3,"model"]}),se=(0,z.cc)({role:[0,"role"],roleInstance:[1,"roleInstance"],roleVer:[2,"roleVer"]}),ce=(0,z.cc)({traceId:[0,"traceID"],traceName:[1,"name"],parentId:[2,"parentID"]}),ue="MicrosoftApplicationsTelemetryDeviceId";var le,fe=function e(t,n){var a=0;(0,i.Z)(e,this,(function(e){var i=t.propertyStorageOverride;e.seq=a,e.epoch=(0,h._l)(!1).toString();var o=(0,c.JP)(n,t);if(o.isEnabled()||i){var s=function(e,t,n){return t?t.getProperty(n)||"":(0,r.Do)(e,n)}(o,i,ue);s||(s=(0,G.GW)()),function(e,t,n,a){t?t.setProperty(n,a):e.set(n,a,31536e3)}(o,i,ue,s),e.installId=s}else o.purge(ue);e.getSequenceId=function(){return++a}}))},de=n(848214),pe=n(730175);function ge(){return void 0===le&&(le=!!he(0)),le}function ve(){return ge()?he(0):null}function he(e){var t,n,a=null;try{var i=(0,pe.Rd)();if(!i)return null;n=new Date,(a=0===e?i.localStorage:i.sessionStorage)&&(0,o.mf)(a.setItem)&&(a.setItem(n,n),t=a.getItem(n)!==n,a.removeItem(n),t&&(a=null))}catch(e){a=null}return a}var me="ai_session",Ie=function(){function e(t,n){var a,s,u=(0,de.vH)(t),l=(0,c.JP)(t);(0,i.Z)(e,this,(function(t){var i,c={sessionRenewalMs:(i=n).sessionRenewalMs&&function(){return i.sessionRenewalMs},sessionExpirationMs:i.sessionExpirationMs&&function(){return i.sessionExpirationMs},cookieDomain:i.cookieDomain&&function(){return i.cookieDomain},namePrefix:i.namePrefix&&function(){return i.namePrefix},sessionAsGuid:function(){return i.sessionAsGuid},idLength:function(){return i.idLength?i.idLength:22}};function f(e){var n=t.automaticSession,a=e.split("|");a.length>0&&n.setId(a[0]);try{if(a.length>1){var i=+a[1];n.acquisitionDate=+new Date(i),n.acquisitionDate=n.acquisitionDate>0?n.acquisitionDate:0}if(a.length>2){var r=+a[2];n.renewalDate=+new Date(r),n.renewalDate=n.renewalDate>0?n.renewalDate:0}}catch(e){(0,de.kP)(u,1,510,"Error parsing ai_session cookie, session will be reset: "+e)}0===n.renewalDate&&(0,de.kP)(u,2,517,"AI session renewal date is 0, session will be reset.")}function d(){var e=t.automaticSession,n=(new Date).getTime(),a=t.config.sessionAsGuid();!(0,o.o8)(a)&&a?(0,o.jn)(a)?e.setId((0,r.cm)()):e.setId((0,r.cm)(a)):e.setId((0,h.pZ)(c&&c.idLength?c.idLength():22)),e.acquisitionDate=n,e.renewalDate=n,p(e.getId(),e.acquisitionDate,e.renewalDate),ge()||(0,de.kP)(u,2,505,"Browser does not support local storage. Session durations will be inaccurate.")}function p(e,n,i){var r=n+t.config.sessionExpirationMs(),o=i+t.config.sessionRenewalMs(),c=new Date,u=[e,n,i];r<o?c.setTime(r):c.setTime(o);var f=t.config.cookieDomain?t.config.cookieDomain():null;l.set(s(),u.join("|")+";expires="+c.toUTCString(),null,f),a=(new Date).getTime()}(0,o.mf)(n.sessionExpirationMs)||(c.sessionExpirationMs=function(){return e.acquisitionSpan}),(0,o.mf)(n.sessionRenewalMs)||(c.sessionRenewalMs=function(){return e.renewalSpan}),t.config=c,s=function(){return t.config.namePrefix&&t.config.namePrefix()?me+t.config.namePrefix():me},t.automaticSession=new q,t.update=function(){t.automaticSession.getId()||function(){var e=l.get(s());if(e&&(0,o.mf)(e.split))f(e);else{var n=function(e,t){var n=ve();if(null!==n)try{return n.getItem(t)}catch(t){le=!1,(0,de.kP)(e,1,503,"Browser failed read of local storage. "+t)}return null}(u,s());n&&f(n)}t.automaticSession.getId()||d()}();var n=t.automaticSession,i=t.config,r=(new Date).getTime(),c=r-n.acquisitionDate>i.sessionExpirationMs(),g=r-n.renewalDate>i.sessionRenewalMs();if(c||g)d();else{(!a||r-a>e.cookieUpdateInterval)&&(n.renewalDate=r,p(n.getId(),n.acquisitionDate,n.renewalDate))}},t.backup=function(){var e,n,a,i=t.automaticSession;e=i.getId(),n=i.acquisitionDate,a=i.renewalDate,function(e,t,n){var a=ve();if(null!==a)try{a.setItem(t,n)}catch(t){le=!1,(0,de.kP)(e,1,504,"Browser failed write to local storage. "+t)}}(u,s(),[e,n,a].join("|"))}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}();function Te(e,t,n,a){var i=t.ext[Y[e]];return i&&(0,o.rW)(a,(function(e,t){(0,o.HD)(t)&&(i[n[e]]=t)})),i}var Ce=function e(t,n,a){(0,i.Z)(e,this,(function(e){e.app=new g(n,a),e.cloud=new v,e.user=new T(t,n,a),e.os=new L(n),e.web=new D(n,a);var i=new fe(t,a),r=new B(n,a),s=new H(n);e.loc=new W,e.device=new J;var c=new X(n),u=new Ie(a,n);function l(){var t=e.session;if(t&&(0,o.HD)(t.customId))return t.customId;u.update();var n=u.automaticSession;if(n){var a=n.getId();a&&(0,o.HD)(a)&&(t.automaticId=a)}return t.automaticId}e.session=new q,e.getSessionId=l,e.applyApplicationContext=function(t){var n,a=e.app;Te(4,t,Z,((n={})[0]=a.id,n[1]=a.ver,n[2]=a.name,n[3]=a.locale,n[4]=a.getExpId(),n[5]=a.env,n))},e.applyUserContext=function(t){var n,a=e.user;Te(0,t,$,((n={})[1]=a.getLocalId(),n[0]=a.locale,n[2]=a.id,n))},e.applyWebContext=function(t){var n,a=e.web;Te(3,t,Q,((n={})[0]=a.domain,n[1]=a.browser,n[2]=a.browserVer,n[3]=a.screenRes,n[5]=a.getUserConsentDetails(),n))[Q[4]]=a.getUserConsent()},e.applyOsContext=function(t){var n,a=e.os;Te(5,t,ee,((n={})[0]=a.name,n[1]=a.ver,n))},e.applySdkContext=function(e){var t,n=Te(6,e,te,((t={})[2]=i.installId,t));n[te[1]]=i.getSequenceId(),n[te[3]]=i.epoch},e.applyIntWebContext=function(e){var t;Te(7,e,ne,((t={})[0]=r.getMsfpc(),t[1]=r.getAnid(),t[2]=r.serviceName,t))},e.applyUtcContext=function(e){var t=e.ext[Y[8]];t[ae[0]]=s.popSample,s.eventFlags>0&&(t[ae[1]]=s.eventFlags)},e.applyLocContext=function(t){t.ext[Y[9]][ie.tz]=e.loc.tz},e.applySessionContext=function(e){e.ext[Y[4]][re[0]]=l()},e.applyDeviceContext=function(t){var n,a=e.device;Te(1,t,oe,((n={})[0]=a.localId,n[2]=a.make,n[3]=a.model,n[1]=a.deviceClass,n))},e.applyCloudContext=function(t){var n,a=e.cloud;Te(10,t,se,((n={})[0]=a.role,n[1]=a.roleInstance,n[2]=a.roleVer,n))},e.applyAITraceContext=function(e){var t;Te(2,e,ce,((t={})[0]=c.traceId,t[1]=c.name,t[2]=c.parentId,t))}}))},Ee=[Y[4],Y[0],Y[3],Y[5],Y[6],Y[7],Y[8],Y[9],Y[1],Y[2],Y[10]],be=function(e){function t(){var n,a,s=e.call(this)||this;return s.identifier="SystemPropertiesCollector",s.priority=3,s.version="3.2.2",(0,i.Z)(t,s,(function(e,t){function i(){n=null,a={}}i(),e.initialize=function(a,i,r){t.initialize(a,i,r),n=new Ce(a,e._getTelCtx().getExtCfg(e.identifier),i)},e.processTelemetry=function(t,i){(0,r.if)(t,e.identifier),i=e._getTelCtx(i);var s,c,u=t.ext=t.ext?t.ext:{};t.data=t.data?t.data:{},(0,o.tO)(Ee,(function(e){u[e]=u[e]||{}})),n&&(n.applyApplicationContext(t),n.applyUserContext(t),n.applyWebContext(t),n.applyOsContext(t),n.applySdkContext(t),n.applyIntWebContext(t),n.applyUtcContext(t),n.applyLocContext(t),n.applySessionContext(t),n.applyDeviceContext(t),n.applyAITraceContext(t),n.applyCloudContext(t)),(0,o.tO)((0,o.FY)(u),(function(e){0===(0,o.FY)(u[e]).length&&delete u[e]})),s=a,c=t.data,s&&(0,o.rW)(s,(function(e,t){c[e]||(c[e]=t)})),e.processNext(t,i)},e.getPropertiesContext=function(){return n},e.setProperty=function(e,t){a[e]=t},e._doTeardown=function(e,t){i()}})),s}return(0,a.ne)(t,e),t}(s.i)},851963:function(e,t,n){n.d(t,{v:function(){return aa}});var a,i=n(722629),r=(n(913716),n(727421)),o=n(281782),s=n(24869),c=n(129339),u=n(549251),l=n(901550),f=n(730175),d=n(988140),p=n(928956),g=n(147954),v=n(919406),h="1DS-Web-JS-3.2.3",m="withCredentials",I=((a={})[0]=0,a[2]=6,a[1]=1,a[3]=7,a[4098]=6,a[4097]=1,a[4099]=7,a),T=Boolean((0,u.Me)()),C=Boolean((0,u.Jj)());function E(e){return!(""===e||(0,s.le)(e))}function b(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function y(e){return!!(e&&(0,s.hj)(e)&&e>=1&&e<=4)}function S(e,t,n){if(!t&&!E(t)||"string"!=typeof e)return null;var a=typeof t;if("string"===a||"number"===a||"boolean"===a||(0,s.kJ)(t))t={value:t};else if("object"!==a||t.hasOwnProperty("value")){if((0,s.le)(t.value)||""===t.value||!(0,s.HD)(t.value)&&!(0,s.hj)(t.value)&&!(0,s.jn)(t.value)&&!(0,s.kJ)(t.value))return null}else t={value:n?JSON.stringify(t):t};if((0,s.kJ)(t.value)&&!_(t.value))return null;if(!(0,s.le)(t.kind)){if((0,s.kJ)(t.value)||!P(t.kind))return null;t.value=t.value.toString()}return t}function N(e,t,n){var a=-1;if(!(0,s.o8)(e))if(t>0&&(32===t?a=8192:t<=13&&(a=t<<5)),function(e){if(e>=0&&e<=9)return!0;return!1}(n))-1===a&&(a=0),a|=n;else{var i=I[x(e)]||-1;-1!==a&&-1!==i?a|=i:6===i&&(a=i)}return a}function A(e,t,n){var a;return void 0===n&&(n=!0),e&&(a=e.get(t),n&&a&&decodeURIComponent&&(a=decodeURIComponent(a))),a||""}function O(e){void 0===e&&(e="D");var t=(0,p.GW)();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function w(e,t,n,a,i){var r={},o=!1,c=0,u=arguments.length,f=Object[l.hB],d=arguments;for("[object Boolean]"===f.toString.call(d[0])&&(o=d[0],c++);c<u;c++){e=d[c];(0,s.rW)(e,(function(e,t){o&&t&&(0,s.Kn)(t)?(0,s.kJ)(t)?(r[e]=r[e]||[],(0,s.tO)(t,(function(t,n){t&&(0,s.Kn)(t)?r[e][n]=w(!0,r[e][n],t):r[e][n]=t}))):r[e]=w(!0,r[e],t):r[e]=t}))}return r}var D=p.Jj;function P(e){return 0===e||e>0&&e<=13||32===e}function _(e){return e.length>0}function k(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=D()}function x(e){var t=0;if(null!=e){var n=typeof e;"string"===n?t=1:"number"===n?t=2:"boolean"===n?t=3:n===l.fK&&(t=4,(0,s.kJ)(e)?(t=4096,e.length>0&&(t|=x(e[0]))):(0,s.nr)(e,"value")&&(t=8192|x(e.value)))}return t}l.jA,l.fK,l.jA,s.tO,s.UA,s.Mr,s.Xz,s.FY,s.Y6,u.b$,s.HD,s.hj,s.jn,s.mf,s.kJ,s.Kn,s.nd,u.MF,s.Y6,u.cp,d.p7,d.UY,s.l_,g.c9,g.Ib,s.Id,s.rW,s.Ym,s.o8,s.le,s.nr,s.mf,s.Kn,s.J_,s.kJ,s.VZ,s.HD,s.hj,s.jn,s.Y6,s.tO,s.UA,s.Mr,s.Xz,s.nd,f.pu,s.FY,s.l_,g.Ib,s.m6,u.w1,p.GW,p.Jj,v.pZ,v.az,v._l,v.CN,v.F6,p.DO;var R,M=n(52473),U=n(129141),L=function(e){function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],n.pluginVersionString="",(0,U.Z)(t,n,(function(e,t){e.logger&&e.logger.queue||(e.logger=new c.AQ({loggingLevelConsole:1})),e.initialize=function(n,a,i,r){(0,o.Lm)(e,(function(){return"AppInsightsCore.initialize"}),(function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var o=n.propertyStorageOverride;if(o&&(!o.getProperty||!o.setProperty))throw new Error("Invalid property storage override passed.");n.channels&&(0,s.tO)(n.channels,(function(t){t&&(0,s.tO)(t,(function(t){if(t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}}))}))}e.getWParam=function(){return"undefined"!=typeof document?0:-1},a&&(0,s.tO)(a,(function(t){if(t&&t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}})),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{t.initialize(n,a,i,r),e.pollInternalLogs("InternalLog")}catch(t){var c=e.logger,l=(0,u.eU)(t);-1!==l.indexOf("channels")&&(l+="\n - Channels must be provided through config.channels only!"),c.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+l)}}),(function(){return{config:n,extensions:a,logger:i,notificationManager:r}}))},e.track=function(n){(0,o.Lm)(e,(function(){return"AppInsightsCore.track"}),(function(){var a=n;if(a){a.timings=a.timings||{},a.timings.trackStart=D(),y(a.latency)||(a.latency=1);var i=a.ext=a.ext||{};i.sdk=i.sdk||{},i.sdk.ver=h;var r=a.baseData=a.baseData||{};r.properties||(r.properties={});var o=r.properties;o.version||(o.version=""),""!==e.pluginVersionString&&(o.version=e.pluginVersionString)}t.track(a)}),(function(){return{item:n}}),!n.sync)}})),n}return(0,r.ne)(t,e),t}(M.F),V=L;(R={})[0]=0,R[2]=6,R[1]=1,R[3]=7,R[4098]=6,R[4097]=1,R[4099]=7,Boolean((0,u.Me)()),Boolean((0,u.Jj)());function F(e,t,n){var a;return void 0===n&&(n=!0),e&&(a=e.get(t),n&&a&&decodeURIComponent&&(a=decodeURIComponent(a))),a||""}function B(e){void 0===e&&(e="D");var t=(0,p.GW)();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}var H=p.Jj;function W(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=H()}l.jA,l.fK,l.jA,s.tO,s.UA,s.Mr,s.Xz,s.FY,s.Y6,u.b$,s.HD,s.hj,s.jn,s.mf,s.kJ,s.Kn,s.nd,u.MF,s.Y6,u.cp,d.p7,d.UY,s.l_,g.c9,g.Ib,s.Id,s.rW,s.Ym,s.o8,s.le,s.nr,s.mf,s.Kn,s.J_,s.kJ,s.VZ,s.HD,s.hj,s.jn,s.Y6,s.tO,s.UA,s.Mr,s.Xz,s.nd,f.pu,s.FY,s.l_,g.Ib,s.m6,u.w1,p.GW,p.Jj,v.pZ,v.az,v._l,v.CN,v.F6,p.DO;var J=n(187951),K=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function j(e,t){void 0===t&&(t=K);var n=null;if(e)for(var a=e.split(","),i=0;i<a.length;i++)q(a[i],t)&&(n?n+=","+a[i]:n=a[i]);return n}function q(e,t){if(void 0===t&&(t=K),!e||e.length<4)return!1;for(var n=!1,a=e.substring(0,3).toString().toUpperCase(),i=0;i<t.length;i++)if(t[i]+":"===a&&e.length<=256){n=!0;break}return n}function G(){return this.getExpId()}var X=function(){function e(t,n){var a=null,i=K.slice(0),r="Treatments",o=(0,d.JP)(n),s=t;(0,U.Z)(e,this,(function(e){if((0,u.Nv)()){var n=(0,u.Me)().documentElement;n&&(e.locale=n.lang)}function c(e){e!==a&&(a=j(e,i))}e.env=t.env?t.env:function(e){var t,n={},a=(0,u.Me)();if(a){t=a&&a.querySelectorAll("meta");for(var i=0;i<t.length;i++){var r=t[i];if(r.name)if(0===r.name.toLowerCase().indexOf(e)){var o=r.name.replace(e,"");n[o]=r.content}}}return n}("awa-").env,e.getExpId=function(){return s.expId?(c(s.expId),a):(c(F(o,r)),a)}}))}return e.validateAppExpId=j,e._staticInit=void(0,s.l_)(e.prototype,"expId",G),e}(),z=function(){};function Y(){return this.getLocalId()}function Z(e){this.setLocalId(e)}var Q=function(){function e(t,n,a){var i,r=n,o=(0,d.JP)(a,t);(0,U.Z)(e,this,(function(n){if(o&&o.isEnabled()&&(p(),r.enableApplicationInsightsUser)){var a=F(o,e.userCookieName);if(a){var c=a.split(e.cookieSeparator);c.length>0&&(n.id=c[0])}if(!n.id){n.id=(0,v.pZ)(t&&!(0,s.o8)(t.idLength)?t.idLength:22);var u=(0,s.Y6)(new Date);n.accountAcquisitionDate=u;var l=[n.id,u],f=r.cookieDomain?r.cookieDomain:void 0;o.set(e.userCookieName,l.join(e.cookieSeparator),31536e3,f)}}if("undefined"!=typeof navigator){var d=navigator;n.locale=d.userLanguage||d.language}function p(){if(!r.hashIdentifiers&&!r.dropIdentifiers){var e=F(o,"MUID");e&&(i="t:"+e)}return i}n.getLocalId=function(){return i||p()},n.setLocalId=function(e){i=e}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e._staticInit=void(0,s.l_)(e.prototype,"localId",Y,Z),e}(),$="([\\d,.]+)",ee="Unknown",te="Edg/",ne=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:te,b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],ae=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];function ie(e,t){return t.indexOf(e)>-1}function re(e,t){for(var n=0;n<t.length;n++)if(e==t[n].brand)return t[n].version;return null}function oe(e,t){return"MSIE"===t?function(e){var t=e.match(new RegExp("MSIE ([\\d,.]+)"));if(t)return t[1];var n=e.match(new RegExp("rv:([\\d,.]+)"));if(n)return n[1]}(e):function(e,t){"Safari"===e?e="Version":"Edge"===e&&ie(te,t)&&(e="Edg");var n=t.match(new RegExp(e+"/"+$));if(n)return n[1];if("Opera"===e&&(n=t.match(new RegExp("OPR/([\\d,.]+)"))))return n[1];return ee}(t,e)}function se(){return this.getUserConsent()}var ce=function(){function e(t,n){var a=(0,d.JP)(n),i=t||{};(0,U.Z)(e,this,(function(e){var t=(0,u.k$)();if(t){var n=t.hostname;n&&(e.domain="file:"===t.protocol?"local":n)}if(i.populateBrowserInfo){var r=i.userAgent,o=(i.userAgentData||{}).brands,c=(0,u.jW)();c&&(r=r||c.userAgent||"",o=o||(c.userAgentData||{}).brands),function(t,n){if((0,s.kJ)(n))try{for(var a=0;a<ae.length;a++){var i=re(ae[a].br,n);if(i)return e.browser=ae[a].b,void(e.browserVer=i)}}catch(e){}if(t){var r=function(e){if(e)for(var t=0;t<ne.length;t++)if(ie(ne[t].ua,e))return ne[t].b;return ee}(t);e.browser=r,e.browserVer=oe(t,r)}}(r,o);var l=function(){var e={h:0,w:0},t=(0,u.Jj)();return t&&t.screen&&(e.h=screen.height,e.w=screen.width),e}();e.screenRes=l.w+"X"+l.h}e.getUserConsent=function(){return i.userConsented||!!F(a,i.userConsentCookieName||"MSCC")},e.getUserConsentDetails=function(){try{var e=i.callback;if(e&&e.userConsentDetails){var t=e.userConsentDetails();if(t)return JSON.stringify({Required:t.Required||!1,Analytics:t.Analytics||!1,SocialMedia:t.SocialMedia||!1,Advertising:t.Advertising||!1})}}catch(e){}return null},(0,s.l_)(e,"userConsent",e.getUserConsent)}))}return e._staticInit=void(0,s.l_)(e.prototype,"userConsent",se),e}(),ue={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i},le={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},fe="Unknown",de=[{r:ue.WINPHONE,os:"Windows Phone"},{r:ue.WINRT,os:"Windows RT"},{r:ue.WIN,os:"Windows"},{r:ue.IOS,os:"iOS"},{r:ue.ANDROID,os:"Android"},{r:ue.LINUX,os:"Linux"},{r:ue.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:ue.OSX,os:"Mac OS X"}];function pe(e,t){return"Windows"===t?ge(e,"Windows NT"):"Android"===t?ge(e,t):"Mac OS X"===t?function(e){var t=e.match(new RegExp("Mac OS X ([\\d,_,.]+)"));if(t){var n=t[1].replace(/_/g,".");if(n){var a=ve(n);return a?n.split(a)[0]:n}}return fe}(e):"iOS"===t?function(e){var t=e.match(new RegExp("OS ([\\d,_,.]+)"));if(t){var n=t[1].replace(/_/g,".");if(n){var a=ve(n);return a?n.split(a)[0]:n}}return fe}(e):fe}function ge(e,t){var n=e.match(new RegExp(t+" ([\\d,.]+)"));return n?le[n[1]]?le[n[1]]:n[1]:fe}function ve(e){return e.indexOf(".")>-1?".":e.indexOf("_")>-1?"_":null}var he=function(e){if(e.populateOperatingSystemInfo){var t=this,n=(0,u.jW)()||{},a=e.userAgent||n.userAgent||"",i=e.userAgentData||n.userAgentData||{};if(a){var r=function(e){for(var t=0;t<de.length;t++){var n=de[t];if(n.r&&e.match(n.r))return n.os;if(n.s&&-1!==e.indexOf(n.s))return n.os}return fe}(a.toLowerCase());t.name=r,t.ver=pe(a,r)}t.name&&t.name!==fe||!(0,s.HD)(i.platform)||(t.name=i.platform)}};function me(){return this.getMsfpc()}function Ie(){return this.getAnid()}var Te=function(){function e(t,n){var a=(0,d.JP)(n);(0,U.Z)(e,this,(function(e){t.serviceName&&(e.serviceName=t.serviceName),e.getMsfpc=function(){return F(a,"MSFPC")},e.getAnid=function(){return F(a,"ANON").slice(0,34)}}))}var t;return e._staticInit=(t=e.prototype,(0,s.l_)(t,"msfpc",me),void(0,s.l_)(t,"anid",Ie)),e}(),Ce=function(e){var t=this;t.popSample=100,t.eventFlags=0,e.hashIdentifiers&&(t.eventFlags=1048576|t.eventFlags),e.dropIdentifiers&&(t.eventFlags=2097152|t.eventFlags)},Ee=function(){var e=(new Date).getTimezoneOffset(),t=e%60,n=(e-t)/60,a="+";n>0&&(a="-"),n=Math.abs(n),t=Math.abs(t),this.tz=a+(n<10?"0"+n:n.toString())+":"+(t<10?"0"+t:t.toString())},be=function(){};function ye(){return this.getId()}function Se(e){this.setId(e)}var Ne=function(){function e(){(0,U.Z)(e,this,(function(e){e.setId=function(t){e.customId=t},e.getId=function(){return(0,s.HD)(e.customId)?e.customId:e.automaticId}}))}return e._staticInit=void(0,s.l_)(e.prototype,"id",ye,Se),e}(),Ae=function(e,t,n,a){var i=this;if(i.traceId=t||(0,p.DO)(),e.enableDistributedTracing&&!n&&(n=(0,p.DO)().substring(0,16)),i.parentId=n,e.enableApplicationInsightsTrace){i.name=a;var r=(0,u.k$)();r&&r.pathname&&(i.name=r.pathname)}},Oe=n(150951),we=(0,Oe.cc)({UserExt:[0,"user"],DeviceExt:[1,"device"],TraceExt:[2,"trace"],WebExt:[3,"web"],AppExt:[4,"app"],OSExt:[5,"os"],SdkExt:[6,"sdk"],IntWebExt:[7,"intweb"],UtcExt:[8,"utc"],LocExt:[9,"loc"],CloudExt:[10,"cloud"],DtExt:[11,"dt"]}),De=(0,Oe.cc)({id:[0,"id"],ver:[1,"ver"],appName:[2,"name"],locale:[3,"locale"],expId:[4,"expId"],env:[5,"env"]}),Pe=(0,Oe.cc)({domain:[0,"domain"],browser:[1,"browser"],browserVer:[2,"browserVer"],screenRes:[3,"screenRes"],userConsent:[4,"userConsent"],consentDetails:[5,"consentDetails"]}),_e=(0,Oe.cc)({locale:[0,"locale"],localId:[1,"localId"],id:[2,"id"]}),ke=(0,Oe.cc)({osName:[0,"name"],ver:[1,"ver"]}),xe=(0,Oe.cc)({ver:[0,"ver"],seq:[1,"seq"],installId:[2,"installId"],epoch:[3,"epoch"]}),Re=(0,Oe.cc)({msfpc:[0,"msfpc"],anid:[1,"anid"],serviceName:[2,"serviceName"]}),Me=(0,Oe.cc)({popSample:[0,"popSample"],eventFlags:[1,"eventFlags"]}),Ue=(0,Oe.cc)({tz:[0,"tz"]}),Le=(0,Oe.cc)({sessionId:[0,"sesId"]}),Ve=(0,Oe.cc)({localId:[0,"localId"],deviceClass:[1,"deviceClass"],make:[2,"make"],model:[3,"model"]}),Fe=(0,Oe.cc)({role:[0,"role"],roleInstance:[1,"roleInstance"],roleVer:[2,"roleVer"]}),Be=(0,Oe.cc)({traceId:[0,"traceID"],traceName:[1,"name"],parentId:[2,"parentID"]}),He=(0,Oe.cc)({traceId:[0,"traceId"],spanId:[1,"spanId"],traceFlags:[2,"traceFlags"]}),We="MicrosoftApplicationsTelemetryDeviceId";var Je,Ke=function e(t,n){var a=0;(0,U.Z)(e,this,(function(e){var i=t.propertyStorageOverride;e.seq=a,e.epoch=(0,v._l)(!1).toString();var r=(0,d.JP)(n,t);if(r.isEnabled()||i){var o=function(e,t,n){return t?t.getProperty(n)||"":F(e,n)}(r,i,We);o||(o=(0,p.GW)()),function(e,t,n,a){t?t.setProperty(n,a):e.set(n,a,31536e3)}(r,i,We,o),e.installId=o}else r.purge(We);e.getSequenceId=function(){return++a}}))};function je(){return void 0===Je&&(Je=!!Ge(0)),Je}function qe(){return je()?Ge(0):null}function Ge(e){var t,n,a=null;try{var i=(0,f.Rd)();if(!i)return null;n=new Date,(a=0===e?i.localStorage:i.sessionStorage)&&(0,s.mf)(a.setItem)&&(a.setItem(n,n),t=a.getItem(n)!==n,a.removeItem(n),t&&(a=null))}catch(e){a=null}return a}var Xe="ai_session",ze=function(){function e(t,n){var a,i,r=(0,c.vH)(t),o=(0,d.JP)(t);(0,U.Z)(e,this,(function(t){var u=function(e){return{sessionRenewalMs:e.sessionRenewalMs&&function(){return e.sessionRenewalMs},sessionExpirationMs:e.sessionExpirationMs&&function(){return e.sessionExpirationMs},cookieDomain:e.cookieDomain&&function(){return e.cookieDomain},namePrefix:e.namePrefix&&function(){return e.namePrefix},sessionAsGuid:function(){return e.sessionAsGuid},idLength:function(){return e.idLength?e.idLength:22}}}(n);function l(e){var n=t.automaticSession,a=e.split("|");a.length>0&&n.setId(a[0]);try{if(a.length>1){var i=+a[1];n.acquisitionDate=+new Date(i),n.acquisitionDate=n.acquisitionDate>0?n.acquisitionDate:0}if(a.length>2){var o=+a[2];n.renewalDate=+new Date(o),n.renewalDate=n.renewalDate>0?n.renewalDate:0}}catch(e){(0,c.kP)(r,1,510,"Error parsing ai_session cookie, session will be reset: "+e)}0===n.renewalDate&&(0,c.kP)(r,2,517,"AI session renewal date is 0, session will be reset.")}function f(){var e=t.automaticSession,n=(new Date).getTime(),a=t.config.sessionAsGuid();!(0,s.o8)(a)&&a?(0,s.jn)(a)?e.setId(B()):e.setId(B(a)):e.setId((0,v.pZ)(u&&u.idLength?u.idLength():22)),e.acquisitionDate=n,e.renewalDate=n,d(e.getId(),e.acquisitionDate,e.renewalDate),je()||(0,c.kP)(r,2,505,"Browser does not support local storage. Session durations will be inaccurate.")}function d(e,n,r){var s=n+t.config.sessionExpirationMs(),c=r+t.config.sessionRenewalMs(),u=new Date,l=[e,n,r];s<c?u.setTime(s):u.setTime(c);var f=t.config.cookieDomain?t.config.cookieDomain():null;o.set(i(),l.join("|")+";expires="+u.toUTCString(),null,f),a=(new Date).getTime()}(0,s.mf)(n.sessionExpirationMs)||(u.sessionExpirationMs=function(){return e.acquisitionSpan}),(0,s.mf)(n.sessionRenewalMs)||(u.sessionRenewalMs=function(){return e.renewalSpan}),t.config=u,i=function(){return t.config.namePrefix&&t.config.namePrefix()?Xe+t.config.namePrefix():Xe},t.automaticSession=new Ne,t.update=function(){t.automaticSession.getId()||function(){var e=o.get(i());if(e&&(0,s.mf)(e.split))l(e);else{var n=function(e,t){var n=qe();if(null!==n)try{return n.getItem(t)}catch(t){Je=!1,(0,c.kP)(e,1,503,"Browser failed read of local storage. "+t)}return null}(r,i());n&&l(n)}t.automaticSession.getId()||f()}();var n=t.automaticSession,u=t.config,p=(new Date).getTime(),g=p-n.acquisitionDate>u.sessionExpirationMs(),v=p-n.renewalDate>u.sessionRenewalMs();if(g||v)f();else{(!a||p-a>e.cookieUpdateInterval)&&(n.renewalDate=p,d(n.getId(),n.acquisitionDate,n.renewalDate))}},t.backup=function(){var e,n,a,o=t.automaticSession;e=o.getId(),n=o.acquisitionDate,a=o.renewalDate,function(e,t,n){var a=qe();if(null!==a)try{a.setItem(t,n)}catch(t){Je=!1,(0,c.kP)(e,1,504,"Browser failed write to local storage. "+t)}}(r,i(),[e,n,a].join("|"))}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}(),Ye=n(656207);function Ze(e,t,n,a){var i=t.ext[we[e]];return i&&(0,s.rW)(a,(function(e,t){(0,s.HD)(t)&&(i[n[e]]=t)})),i}var Qe=function e(t,n,a){(0,U.Z)(e,this,(function(e){e.app=new X(n,a),e.cloud=new z,e.user=new Q(t,n,a),e.os=new he(n),e.web=new ce(n,a);var i=new Ke(t,a),r=new Te(n,a),o=new Ce(n);e.loc=new Ee,e.device=new be;var c=new ze(a,n);e.session=new Ne;var u,l,f,d=(u=new Ae(n),l=g(),f=u||{},{getName:function(){return f.name},setName:function(e){l&&l.setName(e),f.name=e},getTraceId:function(){return f.traceId},setTraceId:function(e){l&&l.setTraceId(e),(0,Ye.jN)(e)&&(f.traceId=e)},getSpanId:function(){return f.parentId},setSpanId:function(e){l&&l.setSpanId(e),(0,Ye.Lc)(e)&&(f.parentId=e)},getTraceFlags:function(){return f.traceFlags},setTraceFlags:function(e){l&&l.setTraceFlags(e),f.traceFlags=e}});function p(){var t=e.session;if(t&&(0,s.HD)(t.customId))return t.customId;c.update();var n=c.automaticSession;if(n){var a=n.getId();a&&(0,s.HD)(a)&&(t.automaticId=a)}return t.automaticId}function g(){var e=d;return a&&a.getTraceCtx&&(e=a.getTraceCtx(!1)||d),e}e.getTraceCtx=function(){return d},e.getSessionId=p,e.applyApplicationContext=function(t){var n,a=e.app;Ze(4,t,De,((n={})[0]=a.id,n[1]=a.ver,n[2]=a.name,n[3]=a.locale,n[4]=a.getExpId(),n[5]=a.env,n))},e.applyUserContext=function(t){var n,a=e.user;Ze(0,t,_e,((n={})[1]=a.getLocalId(),n[0]=a.locale,n[2]=a.id,n))},e.applyWebContext=function(t){var n,a=e.web;Ze(3,t,Pe,((n={})[0]=a.domain,n[1]=a.browser,n[2]=a.browserVer,n[3]=a.screenRes,n[5]=a.getUserConsentDetails(),n))[Pe[4]]=a.getUserConsent()},e.applyOsContext=function(t){var n,a=e.os;Ze(5,t,ke,((n={})[0]=a.name,n[1]=a.ver,n))},e.applySdkContext=function(e){var t,n=Ze(6,e,xe,((t={})[2]=i.installId,t));n[xe[1]]=i.getSequenceId(),n[xe[3]]=i.epoch},e.applyIntWebContext=function(e){var t;Ze(7,e,Re,((t={})[0]=r.getMsfpc(),t[1]=r.getAnid(),t[2]=r.serviceName,t))},e.applyUtcContext=function(e){var t=e.ext[we[8]];t[Me[0]]=o.popSample,o.eventFlags>0&&(t[Me[1]]=o.eventFlags)},e.applyLocContext=function(t){t.ext[we[9]][Ue.tz]=e.loc.tz},e.applySessionContext=function(e){e.ext[we[4]][Le[0]]=p()},e.applyDeviceContext=function(t){var n,a=e.device;Ze(1,t,Ve,((n={})[0]=a.localId,n[2]=a.make,n[3]=a.model,n[1]=a.deviceClass,n))},e.applyCloudContext=function(t){var n,a=e.cloud;Ze(10,t,Fe,((n={})[0]=a.role,n[1]=a.roleInstance,n[2]=a.roleVer,n))},e.applyAITraceContext=function(e){var t;if(n.enableApplicationInsightsTrace){var a=g();a&&Ze(2,e,Be,((t={})[0]=a.getTraceId(),t[1]=a.getName(),t[2]=a.getSpanId(),t))}},e.applyDistributedTraceContext=function(e){var t,n=g();if(n){var a=((t={})[0]=n.getTraceId(),t[1]=n.getSpanId(),t),i=n.getTraceFlags();(0,s.le)(i)||(a[2]=i),Ze(11,e,He,a)}}}))};var $e=[we[4],we[0],we[3],we[5],we[6],we[7],we[8],we[9],we[1],we[2],we[11],we[10]],et=function(e){function t(){var n,a,i,r=e.call(this)||this;return r.identifier="SystemPropertiesCollector",r.priority=3,r.version="3.2.3",(0,U.Z)(t,r,(function(e,t){function r(){n=null,a={}}r(),e.initialize=function(a,r,o){t.initialize(a,r,o),i=e._getTelCtx().getExtCfg(e.identifier),n=new Qe(a,i,r),r&&r.setTraceCtx&&r.setTraceCtx(n.getTraceCtx())},e.processTelemetry=function(t,r){W(t,e.identifier),r=e._getTelCtx(r);var o,c,u=t.ext=t.ext?t.ext:{};t.data=t.data?t.data:{},(0,s.tO)($e,(function(e){u[e]=u[e]||{}})),n&&(n.applyApplicationContext(t),n.applyUserContext(t),n.applyWebContext(t),n.applyOsContext(t),n.applySdkContext(t),n.applyIntWebContext(t),n.applyUtcContext(t),n.applyLocContext(t),n.applySessionContext(t),n.applyDeviceContext(t),i.enableApplicationInsightsTrace&&n.applyAITraceContext(t),i.enableDistributedTracing&&n.applyDistributedTraceContext(t),n.applyCloudContext(t)),(0,s.tO)((0,s.FY)(u),(function(e){0===(0,s.FY)(u[e]).length&&delete u[e]})),o=a,c=t.data,o&&(0,s.rW)(o,(function(e,t){c[e]||(c[e]=t)})),e.processNext(t,r)},e.getPropertiesContext=function(){return n},e.setProperty=function(e,t){a[e]=t},e._doTeardown=function(e,t){var a=(e||{}).core();if(a&&a.getTraceCtx&&n){var i=a.getTraceCtx(!1);i&&i===n.getTraceCtx()&&a.setTraceCtx(null)}r()}})),r}return(0,r.ne)(t,e),t}(J.i),tt=n(787624),nt=n(528452),at="REAL_TIME",it="POST",rt="drop",ot="send",st="requeue",ct="rspFail",ut="application/x-json-stream",lt="cache-control",ft="content-type",dt="kill-duration",pt="time-delta-millis",gt="client-version",vt="client-id",ht="time-delta-to-apply-millis",mt="upload-time",It="apikey",Tt="AuthMsaDeviceTicket",Ct="AuthXToken";function Et(e){var t=(e.ext||{}).intweb;return t&&E(t.msfpc)?t.msfpc:null}function bt(e){for(var t=null,n=0;null===t&&n<e.length;n++)t=Et(e[n]);return t}var yt=function(){function e(t,n){var a=n?[].concat(n):[],i=this,r=bt(a);i.iKey=function(){return t},i.Msfpc=function(){return r||""},i.count=function(){return a.length},i.events=function(){return a},i.addEvent=function(e){return!!e&&(a.push(e),r||(r=Et(e)),!0)},i.split=function(n,i){var o;if(n<a.length){var c=a.length-n;(0,s.le)(i)||(c=i<c?i:c),o=a.splice(n,c),r=bt(a)}return new e(t,o)}}return e.create=function(t,n){return new e(t,n)},e}(),St=2e6,Nt=Math.min(St,65e3),At=/\./,Ot=function e(t,n,a,i){var r="data",c="baseData",u=!!i,l=n,f={};(0,U.Z)(e,this,(function(e){function n(e,t,i,r,o,c,d){(0,s.rW)(e,(function(e,p){var g=null;if(p||E(p)){var v=i,h=e,m=o,I=t;if(u&&!r&&At.test(e)){var T=e.split("."),C=T.length;if(C>1){m&&(m=m.slice());for(var b=0;b<C-1;b++){var y=T[b];I=I[y]=I[y]||{},v+="."+y,m&&m.push(y)}h=T[C-1]}}var N=r&&function(e,t){var n=f[e];return void 0===n&&(e.length>=7&&(n=(0,s.xe)(e,"ext.metadata")||(0,s.xe)(e,"ext.web")),f[e]=n),n}(v);if(g=!N&&l&&l.handleField(v,h)?l.value(v,h,p,a):S(h,p,a)){var A=g.value;if(I[h]=A,c&&c(m,h,g),d&&"object"==typeof A&&!(0,s.kJ)(A)){var O=m;O&&(O=O.slice()).push(h),n(p,A,v+"."+h,r,O,c,d)}}}}))}e.createPayload=function(e,t,n,a,i,r){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:a,sendType:r,sendReason:i}},e.appendPayload=function(n,a,i){var r=n&&a&&!n.overflow;return r&&(0,o.Lm)(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=a.events(),r=n.payloadBlob,o=n.numEvents,c=!1,u=[],l=[],f=n.isBeacon,d=f?65e3:3984588,p=f?Nt:St,g=0,v=0;g<t.length;){var h=t[g];if(h){if(o>=i){n.overflow=a.split(g);break}var m=e.getEventBlob(h);if(m&&m.length<=p){var I=m.length;if(r.length+I>d){n.overflow=a.split(g);break}r&&(r+="\n"),r+=m,++v>20&&(r.substr(0,1),v=0),c=!0,o++}else m?u.push(h):l.push(h),t.splice(g,1),g--}g++}if(u&&u.length>0&&n.sizeExceed.push(yt.create(a.iKey(),u)),l&&l.length>0&&n.failedEvts.push(yt.create(a.iKey(),l)),c){n.batches.push(a),n.payloadBlob=r,n.numEvents=o;var T=a.iKey();-1===(0,s.UA)(n.apiKeys,T)&&n.apiKeys.push(T)}}),(function(){return{payload:n,theBatch:{iKey:a.iKey(),evts:a.events()},max:i}})),r},e.getEventBlob=function(e){try{return(0,o.Lm)(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+b(e.iKey);var a={},i=e.ext;i&&(t.ext=a,(0,s.rW)(i,(function(e,t){n(t,a[e]={},"ext."+e,!0,null,null,!0)})));var o=t.data={};o.baseType=e.baseType;var u=o.baseData={};return n(e.baseData,u,c,!1,[c],(function(e,t,n){wt(a,e,t,n)}),!0),n(e.data,o,r,!1,[],(function(e,t,n){wt(a,e,t,n)}),!0),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))};function wt(e,t,n,a){if(a&&e){var i=N(a.value,a.kind,a.propertyType);if(i>-1){var r=e.metadata;r||(r=e.metadata={f:{}});var o=r.f;if(o||(o=r.f={}),t)for(var c=0;c<t.length;c++){var u=t[c];o[u]||(o[u]={f:{}});var l=o[u].f;l||(l=o[u].f={}),o=l}o=o[n]={},(0,s.kJ)(a.value)?o.a={t:i}:o.t=i}}}function Dt(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*n,Math.min(t,6e5)}var Pt,_t=function e(){var t={};(0,U.Z)(e,this,(function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var a=(o=e.split(","),c=[],o&&(0,s.tO)(o,(function(e){c.push((0,s.nd)(e))})),c);if("this-request-only"===n)return a;for(var i=1e3*parseInt(n,10),r=0;r<a.length;++r)t[a[r]]=(0,s.m6)()+i}catch(e){return[]}var o,c;return[]},e.isTenantKilled=function(e){var n=t,a=(0,s.nd)(e);return void 0!==n[a]&&n[a]>(0,s.m6)()||(delete n[a],!1)}}))},kt=function e(){var t=!0,n=!0,a=!0,i="use-collector-delta",r=!1;(0,U.Z)(e,this,(function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){a&&(a=!1,r||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return i},e.setClockSkew=function(e){r||(e?(i=e,n=!0,r=!0):n=!1,t=!0)}}))},xt="&NoResponseBody=true",Rt=((Pt={})[1]=st,Pt[100]=st,Pt[200]="sent",Pt[8004]=rt,Pt[8003]=rt,Pt),Mt={},Ut={};function Lt(e,t,n){Mt[e]=t,!1!==n&&(Ut[t]=e)}function Vt(e){try{return e.responseText}catch(e){}return""}function Ft(e,t){var n=!1;if(e&&t){var a=(0,s.FY)(e);if(a&&a.length>0)for(var i=t.toLowerCase(),r=0;r<a.length;r++){var o=a[r];if(o&&(0,s.nr)(t,o)&&o.toLowerCase()===i){n=!0;break}}}return n}function Bt(e,t,n,a){t&&n&&n.length>0&&(a&&Mt[t]?(e.hdrs[Mt[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}Lt(Tt,Tt,!1),Lt(gt,gt),Lt(vt,"Client-Id"),Lt(It,It),Lt(ht,ht),Lt(mt,mt),Lt(Ct,Ct);var Ht=function e(t,n,a,i,r){this._responseHandlers=[];var f,d,p,g,v,I,T="?cors=true&"+ft.toLowerCase()+"="+ut,C=new _t,b=!1,y=new kt,S=!1,N=0,A=!0,O=[],P={},_=[],k=null,x=!1,R=!1,M=!1;(0,U.Z)(e,this,(function(e){var U=!0;function L(e,t){for(var n=0,a=null,i=0;null==a&&i<e.length;)1===(n=e[i])?(0,u.cp)()?a=V:(0,u.Z3)()&&(a=B):2===n&&(0,u.JO)(t)?a=F:S&&3===n&&(0,u.MF)()&&(a=W),i++;return a?{_transport:n,_isSync:t,sendPOST:a}:null}function V(e,t,n){var a=new XDomainRequest;a.open(it,e.urlString),e.timeout&&(a.timeout=e.timeout),a.onload=function(){var e=Vt(a);H(t,200,{},e),ee(e)},a.onerror=function(){H(t,400,{})},a.ontimeout=function(){H(t,500,{})},a.onprogress=function(){},n?a.send(e.data):r.set((function(){a.send(e.data)}),0)}function F(e,t,n){var a,i=e.urlString,o=!1,c=!1,u=((a={body:e.data,method:it}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,a);n&&(u.keepalive=!0,2===e._sendReason&&(o=!0,i+=xt)),U&&(u.credentials="include"),e.headers&&(0,s.FY)(e.headers).length>0&&(u.headers=e.headers),fetch(i,u).then((function(e){var n={},a="";e.headers&&e.headers.forEach((function(e,t){n[t]=e})),e.body&&e.text().then((function(e){a=e})),c||(c=!0,H(t,e.status,n,a),ee(a))})).catch((function(e){c||(c=!0,H(t,0,{}))})),o&&!c&&(c=!0,H(t,200,{})),!c&&e.timeout>0&&r.set((function(){c||(c=!0,H(t,500,{}))}),e.timeout)}function B(e,t,n){var a=e.urlString;function i(e,t,n){if(!e[n]&&t&&t.getResponseHeader){var a=t.getResponseHeader(n);a&&(e[n]=(0,s.nd)(a))}return e}function r(e){var t={};return e.getAllResponseHeaders?t=function(e){var t={};if((0,s.HD)(e)){var n=(0,s.nd)(e).split(/[\r\n]+/);(0,s.tO)(n,(function(e){if(e){var n=e.indexOf(": ");if(-1!==n){var a=(0,s.nd)(e.substring(0,n)).toLowerCase(),i=(0,s.nd)(e.substring(n+1));t[a]=i}else t[(0,s.nd)(e)]=1}}))}return t}(e.getAllResponseHeaders()):(t=i(t,e,pt),t=i(t,e,dt),t=i(t,e,"kill-duration-seconds")),t}function o(e,n){H(t,e.status,r(e),n)}n&&e.disableXhrSync&&(n=!1);var c=function(e,t,n,a,i,r){function o(e,t,n){try{e[t]=n}catch(e){}}void 0===a&&(a=!1),void 0===i&&(i=!1);var s=new XMLHttpRequest;return a&&o(s,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",a),n&&o(s,m,n),s.open(e,t,!i),n&&o(s,m,n),!i&&r&&o(s,"timeout",r),s}(it,a,U,!0,n,e.timeout);(0,s.rW)(e.headers,(function(e,t){c.setRequestHeader(e,t)})),c.onload=function(){var e=Vt(c);o(c,e),ee(e)},c.onerror=function(){o(c)},c.ontimeout=function(){o(c)},c.send(e.data)}function H(e,t,n,a){try{e(t,n,a)}catch(e){(0,c.kP)(f.diagLog(),2,518,(0,u.eU)(e))}}function W(e,t,n){var a=200,i=e._thePayload,r=e.urlString+xt;try{var o=(0,u.jW)();if(!o.sendBeacon(r,e.data))if(i){var c=[];(0,s.tO)(i.batches,(function(e){if(c&&e&&e.count()>0){for(var t=e.events(),n=0;n<t.length;n++)if(!o.sendBeacon(r,k.getEventBlob(t[n]))){c.push(e.split(n));break}}else c.push(e.split(0))})),te(c,8003,i.sendType,!0)}else a=0}catch(e){f.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+(0,u.eU)(e)),a=0}finally{H(t,a,{},"")}}function J(e){return 2===e||3===e}function K(e){return R&&J(e)&&(e=2),e}function j(){return!b&&N<n}function q(){var e=_;return _=[],e}function G(e,t,n){var a=!1;return e&&e.length>0&&!b&&d[t]&&k&&(a=0!==t||j()&&(n>0||y.allowRequestSending())),a}function X(e){var t={};return e&&(0,s.tO)(e,(function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}})),t}function z(e,n,a,i,r){if(e&&0!==e.length)if(b)te(e,1,i);else{i=K(i);try{var s=e,l=0!==i;(0,o.Lm)(p,(function(){return"HttpManager:_sendBatches"}),(function(o){o&&(e=e.slice(0));for(var s=[],c=null,f=D(),p=d[i]||(l?d[1]:d[0]),g=(R||J(i)||p&&3===p._transport)&&!A&&S&&(0,u.MF)();G(e,i,n);){var v=e.shift();v&&v.count()>0&&(C.isTenantKilled(v.iKey())?s.push(v):(c=c||k.createPayload(n,a,l,g,r,i),k.appendPayload(c,v,t)?null!==c.overflow&&(e=[c.overflow].concat(e),c.overflow=null,Q(c,f,D(),r),f=D(),c=null):(Q(c,f,D(),r),f=D(),e=[v].concat(e),c=null)))}c&&Q(c,f,D(),r),e.length>0&&(_=e.concat(_)),te(s,8004,i)}),(function(){return{batches:X(s),retryCount:n,isTeardown:a,isSynchronous:l,sendReason:r,useSendBeacon:J(i),sendType:i}}),!l)}catch(e){(0,c.kP)(f.diagLog(),2,48,"Unexpected Exception sending batch: "+(0,u.eU)(e))}}}function Y(e,t){var n={url:T,hdrs:{},useHdrs:!1};t?(n.hdrs=w(n.hdrs,P),n.useHdrs=(0,s.FY)(n.hdrs).length>0):(0,s.rW)(P,(function(e,t){Ut[e]?Bt(n,Ut[e],t,!1):(n.hdrs[e]=t,n.useHdrs=!0)})),Bt(n,vt,"NO_AUTH",t),Bt(n,gt,h,t);var a="";(0,s.tO)(e.apiKeys,(function(e){a.length>0&&(a+=","),a+=e})),Bt(n,It,a,t),Bt(n,mt,(0,s.m6)().toString(),t);var i=function(e){for(var t=0;t<e.batches.length;t++){var n=e.batches[t].Msfpc();if(n)return encodeURIComponent(n)}return""}(e);if(E(i)&&(n.url+="&ext.intweb.msfpc="+i),y.shouldAddClockSkewHeaders()&&Bt(n,ht,y.getClockSkewHeaderValue(),t),p.getWParam){var r=p.getWParam();r>=0&&(n.url+="&w="+r)}for(var o=0;o<O.length;o++)n.url+="&"+O[o].name+"="+O[o].value;return n}function Z(e,t,n){e[t]=e[t]||{},e[t][f.identifier]=n}function Q(t,n,i,r){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var c=!!e.sendHook,g=d[t.sendType];!J(t.sendType)&&t.isBeacon&&2===t.sendReason&&(g=d[2]||d[3]||g);var h=M;(t.isBeacon||3===g._transport)&&(h=!1);var m=Y(t,h);h=h||m.useHdrs;var T=D();(0,o.Lm)(p,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var d=0;d<t.batches.length;d++)for(var E=t.batches[d].events(),b=0;b<E.length;b++){var S=E[b];if(x){var O=S.timings=S.timings||{};Z(O,"sendEventStart",T),Z(O,"serializationStart",n),Z(O,"serializationCompleted",i)}S.sendAttempt>0?S.sendAttempt++:S.sendAttempt=1}te(t.batches,1e3+(r||0),t.sendType,!0);var P={data:t.payloadBlob,urlString:m.url,headers:m.hdrs,_thePayload:t,_sendReason:r,timeout:v};(0,s.o8)(I)||(P.disableXhrSync=!!I),h&&(Ft(P.headers,lt)||(P.headers[lt]="no-cache, no-store"),Ft(P.headers,ft)||(P.headers["content-type"]=ut));var _=null;g&&(_=function(n){y.firstRequestSent();var i=function(n,i){!function(t,n,i,r){var o,c=9e3,u=null,d=!1,p=!1;try{var g=!0;if(typeof t!==l.jA){if(n){y.setClockSkew(n[pt]);var v=n["kill-duration"]||n["kill-duration-seconds"];(0,s.tO)(C.setKillSwitchTenants(n["kill-tokens"],v),(function(e){(0,s.tO)(i.batches,(function(t){if(t.iKey()===e){u=u||[];var n=t.split(0);i.numEvents-=n.count(),u.push(n)}}))}))}if(200==t||204==t)return void(c=200);((o=t)>=300&&o<500&&408!=o&&429!=o||501==o||505==o||i.numEvents<=0)&&(g=!1),c=9e3+t%1e3}if(g){c=100;var h=i.retryCnt;0===i.sendType&&(h<a?(d=!0,$((function(){0===i.sendType&&N--,z(i.batches,h+1,i.isTeardown,R?2:i.sendType,5)}),R,Dt(h))):(p=!0,R&&(c=8001)))}}finally{d||(y.setClockSkew(),function(t,n,a,i){try{i&&f._backOffTransmission(),200===n&&(i||t.isSync||f._clearBackOff(),function(e){if(x){var t=D();(0,s.tO)(e,(function(e){e&&e.count()>0&&function(e,t){x&&(0,s.tO)(e,(function(e){Z(e.timings=e.timings||{},"sendEventCompleted",t)}))}(e.events(),t)}))}}(t.batches)),te(t.batches,n,t.sendType,!0)}finally{0===t.sendType&&(N--,5!==a&&e.sendQueuedRequests(t.sendType,a))}}(i,c,r,p)),te(u,8004,i.sendType)}}(n,i,t,r)},o=t.isTeardown||t.isSync;try{g.sendPOST(n,i,o),e.sendListener&&e.sendListener(P,n,o,t.isBeacon)}catch(e){f.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+(0,u.eU)(e)),H(i,0,{})}}),(0,o.Lm)(p,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(_)if(0===t.sendType&&N++,c&&!t.isBeacon&&3!==g._transport){var n={data:P.data,urlString:P.urlString,headers:w({},P.headers),timeout:P.timeout,disableXhrSync:P.disableXhrSync},a=!1;(0,o.Lm)(p,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{e.sendHook(n,(function(e){a=!0,A||e._thePayload||(e._thePayload=e._thePayload||P._thePayload,e._sendReason=e._sendReason||P._sendReason),_(e)}),t.isSync||t.isTeardown)}catch(e){a||_(P)}}))}else _(P)}))}),(function(){return{thePayload:t,serializationStart:n,serializationCompleted:i,sendReason:r}}),t.isSync)}t.sizeExceed&&t.sizeExceed.length>0&&te(t.sizeExceed,8003,t.sendType),t.failedEvts&&t.failedEvts.length>0&&te(t.failedEvts,8002,t.sendType)}function $(e,t,n){t?e():r.set(e,n)}function ee(t){var n=e._responseHandlers;try{for(var a=0;a<n.length;a++)try{n[a](t)}catch(e){(0,c.kP)(f.diagLog(),1,519,"Response handler failed: "+e)}if(t){var i=JSON.parse(t);E(i.webResult)&&E(i.webResult.msfpc)&&g.set("MSFPC",i.webResult.msfpc,31536e3)}}catch(e){}}function te(e,t,n,a){if(e&&e.length>0&&i){var r=i[(u=t,l=Rt[u],E(l)||(l="oth",u>=9e3&&u<=9999?l=ct:u>=8e3&&u<=8999?l=rt:u>=1e3&&u<=1999&&(l=ot)),l)];if(r){var s=0!==n;(0,o.Lm)(p,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){$((function(){try{r.call(i,e,t,s,n)}catch(e){(0,c.kP)(f.diagLog(),1,74,"send request notification failed: "+e)}}),a||s,0)}),(function(){return{batches:X(e),reason:t,isSync:s,sendSync:a,sendType:n}}),!s)}}var u,l}e.initialize=function(e,t,n,a,i){var r;i||(i={}),T=e+T,M=!!(0,s.o8)(i.avoidOptions)||!i.avoidOptions,p=t,g=t.getCookieMgr(),x=!p.config.disableEventTimings;var o=!!p.config.enableCompoundKey;f=n;var c=i.valueSanitizer,l=i.stringifyObjects;(0,s.o8)(i.enableCompoundKey)||(o=!!i.enableCompoundKey),v=i.xhrTimeout,I=i.disableXhrSync,S=!(0,u.b$)(),k=new Ot(p,c,l,o);var h=a,m=i.alwaysUseXhrOverride?a:null,C=i.alwaysUseXhrOverride?a:null;if(!a){A=!1;var E=(0,u.k$)();E&&E.protocol&&"file:"===E.protocol.toLowerCase()&&(U=!1);var b=[];b=(0,u.b$)()?[2,1]:[1,2,3];var y=i.transports;y&&((0,s.hj)(y)?b=[y].concat(b):(0,s.kJ)(y)&&(b=y.concat(b))),a=L(b,!1),h=L(b,!0),a||f.diagLog().warnToConsole("No available transport to send events")}(r={})[0]=a,r[1]=h||L([1,2,3],!0),r[2]=m||L([3,2],!0)||h||L([1],!0),r[3]=C||L([2,3],!0)||h||L([1],!0),d=r},e._getDbgPlgTargets=function(){return[d[0],C,k,d]},e.addQueryStringParameter=function(e,t){for(var n=0;n<O.length;n++)if(O[n].name===e)return void(O[n].value=t);O.push({name:e,value:t})},e.addHeader=function(e,t){P[e]=t},e.canSendRequest=function(){return j()&&y.allowRequestSending()},e.sendQueuedRequests=function(e,t){(0,s.o8)(e)&&(e=0),R&&(e=K(e),t=2),G(_,e,0)&&z(q(),0,!1,e,t||0)},e.isCompletelyIdle=function(){return!b&&0===N&&0===_.length},e.setUnloading=function(e){R=e},e.addBatch=function(e){if(e&&e.count()>0){if(C.isTenantKilled(e.iKey()))return!1;_.push(e)}return!0},e.teardown=function(){_.length>0&&z(q(),0,!0,2,2)},e.pause=function(){b=!0},e.resume=function(){b=!1,e.sendQueuedRequests(0,4)},e.sendSynchronousBatch=function(e,t,n){e&&e.count()>0&&((0,s.le)(t)&&(t=1),R&&(t=K(t),n=2),z([e],0,!1,t,n||0))}}))};function Wt(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];return setTimeout(e,t,n)}function Jt(e){clearTimeout(e)}function Kt(e,t){return{set:e||Wt,clear:t||Jt}}var jt="eventsDiscarded",qt=function(e){function t(){var n,a=e.call(this)||this;a.identifier="PostChannel",a.priority=1011,a.version="3.2.3";var i,r,l,f,d,p,v,h=!1,m=[],I=null,T=!1,C=0,b=500,y=0,S=1e4,N={},A=at,O=null,w=null,D=0,P=0,_={},x=-1,R=!0,M=!1,L=6,V=2;return(0,U.Z)(t,a,(function(e,t){function a(e){"beforeunload"!==(e||(0,u.Jj)().event).type&&(M=!0,r.setUnloading(M)),q(2,2)}function U(e){M=!1,r.setUnloading(M)}function F(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=1),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,R&&(e.ext=(0,s.Ax)(e.ext),e.baseData&&(e.baseData=(0,s.Ax)(e.baseData)),e.data&&(e.data=(0,s.Ax)(e.data))),e.sync)if(D||T)e.latency=3,e.sync=!1;else if(r)return R&&(e=(0,s.Ax)(e)),void r.sendSynchronousBatch(yt.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,a=y,i=S;4===n&&(a=C,i=b);var o=!1;if(a<i)o=!z(e,t);else{var c=1,u=20;4===n&&(c=4,u=1),o=!0,function(e,t,n,a){for(;n<=t;){var i=G(e,t,!0);if(i&&i.count()>0){var r=i.split(0,a),o=r.count();if(o>0)return 4===n?C-=o:y-=o,ie(jt,[r],nt.h.QueueFull),!0}n++}return Y(),!1}(e.iKey,e.latency,c,u)&&(o=!z(e,t))}o&&ae(jt,[e],nt.h.QueueFull)}function B(e,t,n){var a=Z(e,t,n);return r.sendQueuedRequests(t,n),a}function H(){return y>0}function W(){if(x>=0&&Z(x,0,d)&&r.sendQueuedRequests(0,d),C>0&&!w&&!T){var e=N[A][2];e>=0&&(w=K((function(){w=null,B(4,0,1),W()}),e))}var t=N[A][1];!O&&!I&&t>=0&&!T&&(H()?O=K((function(){O=null,B(0===P?3:1,0,1),P++,P%=2,W()}),t):P=0)}function J(){n=null,h=!1,m=[],I=null,T=!1,C=0,b=500,y=0,S=1e4,N={},A=at,O=null,w=null,D=0,P=0,i=null,_={},l=void 0,f=0,x=-1,d=null,R=!0,M=!1,L=6,V=2,p=null,v=Kt(),r=new Ht(500,2,1,{requeue:te,send:re,sent:oe,drop:se,rspFail:ce,oth:ue},v),ee(),_[4]={batches:[],iKeyMap:{}},_[3]={batches:[],iKeyMap:{}},_[2]={batches:[],iKeyMap:{}},_[1]={batches:[],iKeyMap:{}},le()}function K(e,t){0===t&&D&&(t=1);var n=1e3;return D&&(n=Dt(D-1)),v.set(e,t*n)}function j(){return null!==O&&(v.clear(O),O=null,P=0,!0)}function q(e,t){j(),I&&(v.clear(I),I=null),T||B(1,e,t)}function G(e,t,n){var a=_[t];a||(a=_[t=1]);var i=a.iKeyMap[e];return!i&&n&&(i=yt.create(e),a.batches.push(i),a.iKeyMap[e]=i),i}function X(t,n){r.canSendRequest()&&!D&&(l>0&&y>l&&(n=!0),n&&null==I&&e.flush(t,null,20))}function z(e,t){R&&(e=(0,s.Ax)(e));var n=e.latency,a=G(e.iKey,n,!0);return!!a.addEvent(e)&&(4!==n?(y++,t&&0===e.sendAttempt&&X(!e.sync,f>0&&a.count()>=f)):C++,!0)}function Y(){for(var e=0,t=0,n=function(n){var a=_[n];a&&a.batches&&(0,s.tO)(a.batches,(function(a){4===n?e+=a.count():t+=a.count()}))},a=1;a<=4;a++)n(a);y=t,C=e}function Z(t,n,a){var i=!1,c=0===n;return!c||r.canSendRequest()?(0,o.Lm)(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],n=4;n>=t;){var a=_[n];a&&a.batches&&a.batches.length>0&&((0,s.tO)(a.batches,(function(t){r.addBatch(t)?i=i||t&&t.count()>0:e=e.concat(t.events()),4===n?C-=t.count():y-=t.count()})),a.batches=[],a.iKeyMap={}),n--}e.length>0&&ae(jt,e,nt.h.KillSwitch),i&&x>=t&&(x=-1,d=0)}),(function(){return{latency:t,sendType:n,sendReason:a}}),!c):(x=x>=0?Math.min(x,t):t,d=Math.max(d,a)),i}function Q(e,t){B(1,0,t),Y(),$((function(){e&&e(),m.length>0?I=K((function(){I=null,Q(m.shift(),t)}),0):(I=null,W())}))}function $(e){r.isCompletelyIdle()?e():I=K((function(){I=null,$(e)}),.25)}function ee(){(N={}).REAL_TIME=[2,1,0],N.NEAR_REAL_TIME=[6,3,0],N.BEST_EFFORT=[18,9,0]}function te(t,n){var a=[],i=L;M&&(i=V),(0,s.tO)(t,(function(t){t&&t.count()>0&&(0,s.tO)(t.events(),(function(t){t&&(t.sync&&(t.latency=4,t.sync=!1),t.sendAttempt<i?(k(t,e.identifier),F(t,!1)):a.push(t))}))})),a.length>0&&ae(jt,a,nt.h.NonRetryableStatus),M&&q(2,2)}function ne(t,n){var a=e._notificationManager||{},i=a[t];if(i)try{i.apply(a,n)}catch(n){(0,c.kP)(e.diagLog(),1,74,t+" notification failed: "+n)}}function ae(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];t&&t.length>0&&ne(e,[t].concat(n))}function ie(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];t&&t.length>0&&(0,s.tO)(t,(function(t){t&&t.count()>0&&ne(e,[t.events()].concat(n))}))}function re(e,t,n){e&&e.length>0&&ne("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==n])}function oe(e,t){ie("eventsSent",e,t),W()}function se(e,t){ie(jt,e,t>=8e3&&t<=8999?t-8e3:nt.h.Unknown)}function ce(e){ie(jt,e,nt.h.NonRetryableStatus),W()}function ue(e,t){ie(jt,e,nt.h.Unknown),W()}function le(){f=n&&n.disableAutoBatchFlushLimit?0:Math.max(1500,S/6)}J(),e._getDbgPlgTargets=function(){return[r]},e.initialize=function(c,f,d){(0,o.Lm)(f,(function(){return"PostChannel:initialize"}),(function(){var o=f;t.initialize(c,f,d);try{f.addUnloadCb;p=(0,g.jU)((0,tt.J)(e.identifier),f.evtNamespace&&f.evtNamespace());var h=e._getTelCtx();c.extensionConfig[e.identifier]=c.extensionConfig[e.identifier]||{},n=h.getExtCfg(e.identifier),v=Kt(n.setTimeoutOverride,n.clearTimeoutOverride),R=!n.disableOptimizeObj&&!!(0,u.a8)("chrome"),function(e){var t=e.getWParam;e.getWParam=function(){var e=0;return n.ignoreMc1Ms0CookieProcessing&&(e|=2),e|t()}}(o),n.eventsLimitInMem>0&&(S=n.eventsLimitInMem),n.immediateEventLimit>0&&(b=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(l=n.autoFlushEventsLimit),(0,s.hj)(n.maxEventRetryAttempts)&&(L=n.maxEventRetryAttempts),(0,s.hj)(n.maxUnloadEventRetryAttempts)&&(V=n.maxUnloadEventRetryAttempts),le(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(i=n.httpXHROverride),E(c.anonCookieName)&&r.addQueryStringParameter("anoncknm",c.anonCookieName),r.sendHook=n.payloadPreprocessor,r.sendListener=n.payloadListener;var m=n.overrideEndpointUrl?n.overrideEndpointUrl:c.endpointUrl;e._notificationManager=c.extensionConfig.NotificationManager,r.initialize(m,e.core,e,i,n);var I=c.disablePageUnloadEvents||[];(0,g.c9)(a,I,p),(0,g.TJ)(a,I,p),(0,g.nD)(U,c.disablePageShowEvents,p)}catch(t){throw e.setInitialized(!1),t}}),(function(){return{coreConfig:c,core:f,extensions:d}}))},e.processTelemetry=function(t,a){k(t,e.identifier);var i=(a=e._getTelCtx(a)).getExtCfg(e.identifier),r=!!n.disableTelemetry;i&&(r=r||!!i.disableTelemetry);var o=t;r||h||(n.overrideInstrumentationKey&&(o.iKey=n.overrideInstrumentationKey),i&&i.overrideInstrumentationKey&&(o.iKey=i.overrideInstrumentationKey),F(o,!0),M?q(2,2):W()),e.processNext(o,a)},e._doTeardown=function(e,t){q(2,2),h=!0,r.teardown(),(0,g.JA)(null,p),(0,g.C9)(null,p),(0,g.Yl)(null,p),J()},e.setEventQueueLimits=function(e,t){S=e>0?e:1e4,l=t>0?t:0,le();var n=y>e;if(!n&&f>0)for(var a=1;!n&&a<=3;a++){var i=_[a];i&&i.batches&&(0,s.tO)(i.batches,(function(e){e&&e.count()>=f&&(n=!0)}))}X(!0,n)},e.pause=function(){j(),T=!0,r.pause()},e.resume=function(){T=!1,r.resume(),W()},e.addResponseHandler=function(e){r._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){j(),ee(),A=at,W(),(0,s.rW)(e,(function(e,t){var n=t.length;if(n>=2){var a=n>2?t[2]:0;if(t.splice(0,n-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var i=t[0]/t[1];t[0]=Math.ceil(i)*t[1]}a>=0&&t[1]>=0&&a>t[1]&&(a=t[1]),t.push(a),N[e]=t}}))},e.flush=function(e,t,n){if(void 0===e&&(e=!0),!T)if(n=n||1,e)null==I?(j(),Z(1,0,n),I=K((function(){I=null,Q(t,n)}),0)):m.push(t);else{var a=j();B(1,1,n),null!=t&&t(),a&&W()}},e.setMsaAuthTicket=function(e){r.addHeader(Tt,e)},e.hasEvents=H,e._setTransmitProfile=function(e){A!==e&&void 0!==N[e]&&(j(),A=e,W())},e._backOffTransmission=function(){D<4&&(D++,j(),W())},e._clearBackOff=function(){D&&(D=0,j(),W())},(0,s.l_)(e,"_setTimeoutOverride",(function(){return v.set}),(function(e){v=Kt(e,v.clear)})),(0,s.l_)(e,"_clearTimeoutOverride",(function(){return v.clear}),(function(e){v=Kt(v.set,e)}))})),a}return(0,r.ne)(t,e),t}(J.i),Gt=qt,Xt=n(128310);function zt(e){(0,s.rW)(e,(function(t,n){(!E(n)||"{}"===JSON.stringify(n)&&"callback"!==t)&&delete e[t]}))}function Yt(e,t,n){var a=e;if(a){for(;!t(a,n);)if(!(a=a.parentNode)||!a.getAttribute)return null;return a}}function Zt(e){return"A"===e.nodeName}function Qt(e,t){var n,a,i,r,o,s,c,u,l,f,d=e.getBoundingClientRect();return(a=t,i=(n=d).left,r=n.top,o=n.right,s=n.bottom,c=a.left,u=a.top,l=a.right,f=a.bottom,Math.max(0,Math.min(o,l)-Math.max(i,c))*Math.max(0,Math.min(s,f)-Math.max(r,u)))>0}function $t(e,t){return!!E(en(e,"data-bi-dnt"))}function en(e,t){return Yt(e,tn,t)}function tn(e,t){var n=e.getAttribute(t);return E(n)||""===n}function nn(e){return"["+e+"]"}function an(e,t,n,a){var i;return function(){var r=arguments,o=function(){i=0,t&&t.apply(a,r)},s=!i;clearTimeout(i),i=setTimeout(o,n),s&&e&&e.apply(a,r)}}function rn(){var e={h:0,v:0},t=(0,u.Jj)(),n=(0,u.Me)();return n&&t&&(e={h:parseInt(n.body.scrollLeft||n.documentElement.scrollLeft||t.pageXOffset,10),v:parseInt(n.body.scrollTop||n.documentElement.scrollTop||t.pageYOffset,10)}),e}function on(){var e={h:0,w:0},t=(0,u.Jj)(),n=(0,u.Me)();if(t&&n&&t.screen){var a=n.body||{},i=n.documentElement||{};e.h=t.innerHeight||a.clientHeight||i.clientHeight,e.w=t.innerWidth||a.clientWidth||i.clientWidth}return e}var sn,cn="CL",un="CR",ln="CM",fn="S",dn="R",pn="KE",gn="KS";!function(e){e[e.PAGE_ACTION=0]="PAGE_ACTION",e[e.CONTENT_UPDATE=1]="CONTENT_UPDATE"}(sn||(sn={}));var vn={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0};function hn(e){if(e){var t=function(e){return Yt(e,Zt)}(e);if(t&&1===t.length){if(t[0].href)return t[0].href;if(t[0].src)return t[0].src}}return""}function mn(e){if(!e||!e.attributes)return!1;try{var t=e.getAttribute("data-dc");return!!E(t)&&"pii"===t.toLowerCase()}catch(e){return!1}}function In(e,t){return e.coreData&&e.coreData.requestUri&&""!==e.coreData.requestUri?e.coreData.requestUri:function(e,t){if(!t)return null;var n=t.protocol+"//"+(t.hostname||t.host)+(E(t.port)?":"+t.port:"")+t.pathname;if(e.urlCollectQuery){var a=t.search;if(!a){var i=t.hash||"",r=i.indexOf("?");-1!==r&&(a=i.slice(r))}n+=a}e.urlCollectHash&&(n+=t.hash||"");return n}(e,t)}function Tn(e,t){var n,a="",i={},r=[],o=e.cookiesToCollect;!1===e.shareAuthStatus?r=o:(0,s.tO)(o,(function(e){"ANON"!==e&&r.push(e)}));try{try{C&&window.varCustomerCookies&&window.varCustomerCookies.length>0&&(r=r.concat(window.varCustomerCookies))}catch(e){(0,c.kP)(t,1,512,"Failed to get cookies ")}(0,s.tO)(r,(function(e){i.hasOwnProperty(e)||(i[e]="",T&&""!==(n=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(a+=e+"="+n+";"))}))}catch(e){(0,c.kP)(t,1,512,"Failed to get cookies ")}return a}function Cn(e,t){var n=(0,g.jU)((0,tt.J)("onDomLoaded"),t);En((function(){if(T&&"complete"===document.readyState)e();else{var t=(0,u.Jj)();t&&(0,g.XO)(t,"load",(function(){e&&e(),e=null,(0,g.QY)(t,null,null,n)}),n)}}))}function En(e){var t=(0,u.Me)()||{};/in/.test(t.readyState)?setTimeout((function(){En(e)}),100):e.call()}var bn,yn={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type",parentId:"data-bi-parentid",parentName:"data-bi-parentname"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct",parentId:"data-bi-pi",parentName:"data-bi-pn"}},Sn={parentId:"parentId",parentName:"parentName"},Nn={parentId:"pI",parentName:"pN"},An=function(){function e(e,t){this._config=e,this._traceLogger=t,this._contentBlobFieldNames=null,this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?yn.shortNames:yn.longNames}return e.prototype.getMetadata=function(){var e={},t={};return T&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(e=this._getMetaDataFromDOM("ms.",!1))),w(!0,t,e)},e.prototype.getVisibleContent=function(){var e,t=on(),n={top:0,bottom:(e=t).h,left:0,right:e.w},a=null;T&&(a=document.querySelectorAll(nn(this._contentBlobFieldNames.areaName)+","+nn(this._contentBlobFieldNames.slotNumber)+","+nn(this._config.biBlobAttributeTag)));var i=[];if(a)for(var r=0;r<a.length;r++){var o=a[r];if(!$t(o)&&Qt(o,n)){var s=this.getElementContent(o,sn.CONTENT_UPDATE);s&&i.push(s)}}return i},e.prototype.getElementContent=function(e,t){if(!e)return{};var n,a,i,r={};if(this._isTracked(e))if(this._isTrackedWithDataM(e)){a=(n=e).getAttribute(this._config.biBlobAttributeTag);try{r=JSON.parse(a)}catch(e){(0,c.kP)(this._traceLogger,1,506,"Can not parse "+a)}}else this._isTrackedWithDataBi(e)&&(i=e,r=w(r,this._populateElementContentwithDataBi(i,e)));else if((n=en(e,this._config.biBlobAttributeTag))&&(a=n.getAttribute(this._config.biBlobAttributeTag)),a)try{r=JSON.parse(a)}catch(e){(0,c.kP)(this._traceLogger,1,506,"Can not parse "+a)}else i=Yt(e,this._isTrackedWithDataBi),r=w(r,this._populateElementContentwithDataBi(i,e));return zt(r),this._config.autoCapture.lineage&&t===sn.PAGE_ACTION&&(r=w(r,this.getLineageDetails(e))),this._config.autoPopulateParentIdAndParentName&&(r=w(r,this._getParentDetails(n||i,r))),r},e.prototype.getLineageDetails=function(e){for(var t,n,a,i=[],r=[],o=this._config.biBlobAttributeTag,s="data-module-id";e;){var u=e.getAttribute(o)||e[o],l=e.getAttribute(s)||e["data-module-id"];if(u){try{var f=JSON.parse(u)}catch(e){(0,c.kP)(this._traceLogger,1,507,"Can not parse "+u)}f&&(n=f.cN||f.cT,a=f.id||void 0,(n||a)&&(i.push(n),l&&(t=n),r.push(a)))}else n=e.getAttribute(this._contentBlobFieldNames.contentName)||e.getAttribute(this._contentBlobFieldNames.contentType),a=e.getAttribute(this._contentBlobFieldNames.id)||void 0,(n||a)&&(i.push(n),l&&(t=n),r.push(a));e=e.parentElement}return{lineage:i.join(">"),lineageById:r.join(">"),lineageContainerName:t}},e.prototype._populateElementContentwithDataBi=function(e,t){var n={};if(!e){if(!this._config.useDefaultContentName)return n;e=t}var a=en(e,this._contentBlobFieldNames.areaName),i=w({},this._getAreaContent(a)),r=this._config.callback.contentName?this._config.callback.contentName(e,this._config.useDefaultContentName):"",o=this._getDefaultContentName(t,this._config.useDefaultContentName);(n={id:e.getAttribute(this._contentBlobFieldNames.id)||e.id||"",aN:i.areaName,sN:e.getAttribute(this._contentBlobFieldNames.slotNumber),cN:r||e.getAttribute(this._contentBlobFieldNames.contentName)||o||e.getAttribute("alt")||"",cS:e.getAttribute(this._contentBlobFieldNames.contentSource)||i.contentSource,tN:i.templateName,pid:e.getAttribute(this._contentBlobFieldNames.productId),cT:e.getAttribute(this._contentBlobFieldNames.contentType)||i.type,pI:e.getAttribute(this._contentBlobFieldNames.parentId),pN:e.getAttribute(this._contentBlobFieldNames.parentName)}).id&&n.aN&&n.sN&&n.cN||(0,c.kP)(this._traceLogger,2,515,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(n={contentId:n.id,areaName:n.aN,slotNumber:n.sN,contentName:n.cN,contentSource:n.cS,templateName:n.tN,productId:n.pid,contentType:n.cT,parentId:n.pI,parentName:n.pN});for(var s,u=0;u<e.attributes.length;u++){if((s=e.attributes[u]).name!==this._contentBlobFieldNames.id&&s.name!==this._contentBlobFieldNames.areaName&&s.name!==this._contentBlobFieldNames.slotNumber&&s.name!==this._contentBlobFieldNames.contentName&&s.name!==this._contentBlobFieldNames.contentSource&&s.name!==this._contentBlobFieldNames.templateName&&s.name!==this._contentBlobFieldNames.productId&&s.name!==this._contentBlobFieldNames.contentType&&s.name!==this._contentBlobFieldNames.parentId&&s.name!==this._contentBlobFieldNames.parentName&&-1!==s.name.indexOf("data-bi-"))n[s.name.replace("data-bi-","")]=s.value}return n},e.prototype._getMetaDataFromDOM=function(e,t){var n,a={};if(T){n=document.querySelectorAll("meta");for(var i=0;i<n.length;i++){var r=n[i];if(r.name)if(0===r.name.toLowerCase().indexOf(e))a[t?r.name.replace(e,""):r.name]=r.content}}return a},e.prototype._getAreaContent=function(e){if(e)return{areaName:e.getAttribute(this._contentBlobFieldNames.areaName),templateName:e.getAttribute(this._contentBlobFieldNames.templateName),contentSource:e.getAttribute(this._contentBlobFieldNames.contentSource),product:e.getAttribute(this._contentBlobFieldNames.productId),type:e.getAttribute(this._contentBlobFieldNames.contentType)}},e.prototype._getDefaultContentName=function(e,t){if(!1===t||mn(e)||!e.tagName)return"";var n,a=(0,u.Me)()||{};switch(e.tagName){case"A":n=a.all?e.innerText||e.innerHTML:e.text||e.innerHTML;break;case"IMG":case"AREA":n=e.alt;break;default:n=e.value||e.name||e.alt||e.innerText||e.id}return n.substring(0,200)},e.prototype._getParentDetails=function(e,t){var n=this._contentBlobFieldNames.isShortNames?Nn.parentId:Sn.parentId,a=this._contentBlobFieldNames.isShortNames?Nn.parentName:Sn.parentName,i=t[n],r=t[a];return i||r||!e?{}:this._populateParentInfo(e,n,a)},e.prototype._isTrackedWithDataM=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name)return!0;return!1},e.prototype._isTrackedWithDataBi=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(t[n].name.indexOf("data-bi-")>=0)return!0;return!1},e.prototype._isTracked=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name||t[n].name.indexOf("data-bi-")>=0)return!0;return!1},e.prototype._populateParentInfo=function(e,t,n){var a,i,r={},o=this._config.biBlobAttributeTag,s=Yt(e.parentElement,this._isTracked);if(s){var u=s.getAttribute(o)||e[o];if(u){try{var l=JSON.parse(u)}catch(e){(0,c.kP)(this._traceLogger,1,507,"Can not parse "+u)}l&&(a=l.id,i=l.cN)}else a=s.getAttribute(this._contentBlobFieldNames.id),i=s.getAttribute(this._contentBlobFieldNames.contentName);a&&(r[t]=a),i&&(r[n]=i)}return r},e}(),On={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},wn=function e(t,n){var a=this,i=(0,g.jU)((0,tt.J)("AutoCaptureHandler"),t._evtNamespace);(0,U.Z)(e,this,(function(e){function n(e){var n,a={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},i=(0,u.Jj)(),r=(e=e||i.event).srcElement||e.target,o={isAuto:!0,clickCoordinateX:e.pageX,clickCoordinateY:e.pageY},s="which"in(n=e)?3===n.which:"button"in n?2===n.button:void 0;if(s)o.actionType=un;else if(function(e){return"which"in e?1===e.which:"button"in e?1===e.button:void 0}(e))o.actionType=cn;else if(function(e){if("keyCode"in e)return 13===e.keyCode}(e))o.actionType=pn;else if(function(e){if("keyCode"in e)return 32===e.keyCode}(e))o.actionType=gn;else{if(!function(e){return"which"in e?2===e.which:"button"in e?4===e.button:void 0}(e))return;o.actionType=ln}for(;r&&r.tagName;){if(r.control&&a[r.control.tagName.toUpperCase()]&&(r=r.control),a[r.tagName.toUpperCase()]){("INPUT"!==r.tagName.toUpperCase()||On[r.type.toUpperCase()])&&t.capturePageAction(r,o,{},s);break}r=r.parentElement||r.parentNode}}e.pageView=function(){t.capturePageView({isAuto:!0})},e.onLoad=function(){Cn((function(){t.capturePageViewPerformance({isAuto:!0}),t.captureContentUpdate({isAuto:!0,isDomComplete:!0})}),i)},e.click=function(){var e=(0,u.Jj)(),t=(0,u.Me)();if(e&&e.addEventListener){var a=-1!==navigator.appVersion.indexOf("MSIE")?"click":"mousedown";(0,g.XO)(e,a,n,i),(0,g.XO)(e,"keyup",n,i)}else t&&t.attachEvent&&((0,g.XO)(t,"click",n,i),(0,g.XO)(t,"keyup",n,i))},e.scroll=function(e){var n=an(null,(function(){t.captureContentUpdate({isAuto:!0,actionType:fn})}),e.scroll,a);(0,g.XO)((0,u.Jj)(),"scroll",n,i)},e.maxScroll=function(e){(0,g.XO)((0,u.Jj)(),"scroll",(function(){var t=rn();e.v=e.v>t.v?e.v:t.v}),i)},e.resize=function(e){var n=an((function(){t.captureContentUpdate({isAuto:!0,actionType:dn})}),null,e.resize,a);(0,g.XO)((0,u.Jj)(),"resize",n,i)},e.onUnload=function(){var e=t;function n(){e&&e.capturePageUnload({isAuto:!0})}if(e){var a=((e||{}).core||{}).config.disablePageUnloadEvents;(0,g.c9)(n,a,i),(0,g.TJ)(n,a,i)}},e.teardown=function(e,n){(0,g.QY)((0,u.Jj)(),null,null,i),(0,g.QY)((0,u.Me)(),null,null,i),(0,g.JA)(null,i),(0,g.C9)(null,i),t=null,i=null}}))};function Dn(e,t,n){var a="";return t&&t[n]?a=t[n]:e&&(a=e[n]),a}!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.NAVIGATIONBACK=1]="NAVIGATIONBACK",e[e.NAVIGATION=2]="NAVIGATION",e[e.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD",e[e.APPLY=4]="APPLY",e[e.REMOVE=5]="REMOVE",e[e.SORT=6]="SORT",e[e.EXPAND=7]="EXPAND",e[e.REDUCE=8]="REDUCE",e[e.CONTEXTMENU=9]="CONTEXTMENU",e[e.TAB=10]="TAB",e[e.COPY=11]="COPY",e[e.EXPERIMENTATION=12]="EXPERIMENTATION",e[e.PRINT=13]="PRINT",e[e.SHOW=14]="SHOW",e[e.HIDE=15]="HIDE",e[e.MAXIMIZE=16]="MAXIMIZE",e[e.MINIMIZE=17]="MINIMIZE",e[e.BACKBUTTON=18]="BACKBUTTON",e[e.STARTPROCESS=20]="STARTPROCESS",e[e.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT",e[e.COMPLETEPROCESS=22]="COMPLETEPROCESS",e[e.SCENARIOCANCEL=23]="SCENARIOCANCEL",e[e.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT",e[e.DOWNLOAD=41]="DOWNLOAD",e[e.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE",e[e.SEARCH=61]="SEARCH",e[e.SEARCHINITIATE=62]="SEARCHINITIATE",e[e.TEXTBOXINPUT=63]="TEXTBOXINPUT",e[e.PURCHASE=80]="PURCHASE",e[e.ADDTOCART=81]="ADDTOCART",e[e.VIEWCART=82]="VIEWCART",e[e.ADDWISHLIST=83]="ADDWISHLIST",e[e.FINDSTORE=84]="FINDSTORE",e[e.CHECKOUT=85]="CHECKOUT",e[e.REMOVEFROMCART=86]="REMOVEFROMCART",e[e.PURCHASECOMPLETE=87]="PURCHASECOMPLETE",e[e.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE",e[e.VIEWCARTPAGE=89]="VIEWCARTPAGE",e[e.VIEWPDP=90]="VIEWPDP",e[e.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY",e[e.INTENTTOBUY=92]="INTENTTOBUY",e[e.PUSHTOINSTALL=93]="PUSHTOINSTALL",e[e.SIGNIN=100]="SIGNIN",e[e.SIGNOUT=101]="SIGNOUT",e[e.SOCIALSHARE=120]="SOCIALSHARE",e[e.SOCIALLIKE=121]="SOCIALLIKE",e[e.SOCIALREPLY=122]="SOCIALREPLY",e[e.CALL=123]="CALL",e[e.EMAIL=124]="EMAIL",e[e.COMMUNITY=125]="COMMUNITY",e[e.SOCIALFOLLOW=126]="SOCIALFOLLOW",e[e.VOTE=140]="VOTE",e[e.SURVEYINITIATE=141]="SURVEYINITIATE",e[e.SURVEYCOMPLETE=142]="SURVEYCOMPLETE",e[e.REPORTAPPLICATION=143]="REPORTAPPLICATION",e[e.REPORTREVIEW=144]="REPORTREVIEW",e[e.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT",e[e.CONTACT=160]="CONTACT",e[e.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE",e[e.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE",e[e.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION",e[e.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION",e[e.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION",e[e.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT",e[e.CHATINITIATE=180]="CHATINITIATE",e[e.CHATEND=181]="CHATEND",e[e.TRIALSIGNUP=200]="TRIALSIGNUP",e[e.TRIALINITIATE=201]="TRIALINITIATE",e[e.SIGNUP=210]="SIGNUP",e[e.FREESIGNUP=211]="FREESIGNUP",e[e.PARTNERREFERRAL=220]="PARTNERREFERRAL",e[e.LEARNLOWFUNNEL=230]="LEARNLOWFUNNEL",e[e.LEARNHIGHFUNNEL=231]="LEARNHIGHFUNNEL",e[e.SHOPPINGINTENT=232]="SHOPPINGINTENT",e[e.VIDEOSTART=240]="VIDEOSTART",e[e.VIDEOPAUSE=241]="VIDEOPAUSE",e[e.VIDEOCONTINUE=242]="VIDEOCONTINUE",e[e.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT",e[e.VIDEOJUMP=244]="VIDEOJUMP",e[e.VIDEOCOMPLETE=245]="VIDEOCOMPLETE",e[e.VIDEOBUFFERING=246]="VIDEOBUFFERING",e[e.VIDEOERROR=247]="VIDEOERROR",e[e.VIDEOMUTE=248]="VIDEOMUTE",e[e.VIDEOUNMUTE=249]="VIDEOUNMUTE",e[e.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN",e[e.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN",e[e.VIDEOREPLAY=252]="VIDEOREPLAY",e[e.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD",e[e.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK",e[e.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL",e[e.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL",e[e.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL",e[e.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE",e[e.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL",e[e.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN",e[e.VIRTUALEVENTEND=261]="VIRTUALEVENTEND",e[e.JOINTEAMSMEETINGEVENT=262]="JOINTEAMSMEETINGEVENT",e[e.IMPRESSION=280]="IMPRESSION",e[e.CLICK=281]="CLICK",e[e.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE",e[e.ADBUFFERING=283]="ADBUFFERING",e[e.ADERROR=284]="ADERROR",e[e.ADSTART=285]="ADSTART",e[e.ADCOMPLETE=286]="ADCOMPLETE",e[e.ADSKIP=287]="ADSKIP",e[e.ADTIMEOUT=288]="ADTIMEOUT",e[e.OTHER=300]="OTHER"}(bn||(bn={}));var Pn=function(){function e(e,t,n,a,i,r,o){this._webAnalyticsPlugin=e,this._config=t,this._contentHandler=n,this._id=a,this._pageTagsCallback=i,this.metaTags=r,this._traceLogger=o,this._pageTags={}}return e.prototype._setBasicProperties=function(e,t){e.ver="1.0",e.id=this._id.getLastPageViewId(),E(e.name)||(e.name=function(e,t){if(t&&t.pageName)return t.pageName;if(e.callback&&"function"==typeof e.callback.pageName)return e.callback.pageName();if(e.coreData&&e.coreData.pageName)return e.coreData.pageName;var n=((0,u.k$)()||{}).pathname||"",a=n.split("/");return a&&""!==a[a.length-1]?a[a.length-1]:"Undefined"}(this._config,t)),!E(e.uri)&&C&&(e.uri=In(this._config,(0,u.k$)()))},e.prototype._setCommonProperties=function(e,t,n){var a=this;a._setBasicProperties(e,n),a._setPageTags(e,n),a._pageTypeMetaTag=Dn(a.metaTags,a._config.coreData,"pageType"),a._marketMetaTag=Dn(a.metaTags,a._config.coreData,"market"),a._behaviorMetaTag=Dn(a.metaTags,a._config.coreData,"behavior"),E(n.pageType)&&(e.pageType=n.pageType),E(a._pageTypeMetaTag)&&!E(e.pageType)&&(e.pageType=a._pageTypeMetaTag),E(a._marketMetaTag)&&(e.market=a._marketMetaTag),e.isLoggedIn=function(e){return e.callback&&"function"==typeof e.callback.signedinStatus?e.callback.signedinStatus():e.isLoggedIn}(a._config),t.cookieEnabled=(0,d.p7)()},e.prototype._setPageTags=function(e,t){var n=this;n._pageTags={},n.metaTags&&(n._pageTags.metaTags=n._pageTags.metaTags||{},(0,s.rW)(n.metaTags,(function(e,t){"behavior"!==e&&"market"!==e&&"pageType"!==e&&(n._pageTags.metaTags[e]=t)}))),n._config.coreData&&n._config.coreData.pageTags&&(n._pageTags=w(!0,n._pageTags,n._config.coreData.pageTags)),n._pageTagsCallback&&(n._pageTags=w(!0,n._pageTags,n._pageTagsCallback())),E(t.pageTags)&&(n._pageTags=w(!0,n._pageTags,t.pageTags)),e.properties=e.properties||{},e.properties.pageTags=n._pageTags},e.prototype._getBehavior=function(e){var t;return e&&E(e.behavior)?t=e.behavior:E(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},e.prototype._getValidBehavior=function(e){if(E(e)){var t=void 0,n=parseInt(e);if((t=isNaN(n)?bn[e]:n)in bn)return t}return 0},e.prototype._getContentFormatted=function(e){if(E(e))return(0,s.kJ)(e)?JSON.stringify(e):nn(JSON.stringify(e))},e}(),_n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ne)(t,e),t.prototype.capturePageView=function(e,t){e=E(e)?e:{};var n={},a=E(t)?t:{};this._setCommonProperties(n,a,e),n.refUri=E(e.referrerUri)?e.referrerUri:this._config.coreData.referrerUri,n.isManual=!e.isAuto;var i=Tn(this._config,this._traceLogger);i&&(a.cookies=i),a.behavior=this._getBehavior(e),this._webAnalyticsPlugin.trackPageView(n,a)},t}(Pn),kn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ne)(t,e),t.prototype.trackPageAction=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var a={name:"Ms.Web.PageAction",baseType:"PageActionData",ext:n,data:{},baseData:{},latency:1};(0,s.o8)(e.sync)||(a.sync=e.sync),a.baseData.name=e.name,a.baseData.uri=e.uri,a.baseData.market=e.market,a.baseData.pageType=e.pageType,a.baseData.isLoggedIn=e.isLoggedIn,a.baseData.id=e.id,a.baseData.properties=e.properties,a.baseData.ver=e.ver,a.baseData.actionType=e.actionType,a.baseData.behavior=e.behavior,a.baseData.clickCoordinates=e.clickCoordinates,a.baseData.content=e.content,a.baseData.contentVer=e.contentVer,a.baseData.targetUri=e.targetUri,(0,s.rW)(t,(function(e,t){a.data[e]||(a.data[e]=t)})),this._webAnalyticsPlugin.core.track(a)},t.prototype.capturePageAction=function(e,t,n,a){t=E(t)?t:{};var i={},r=E(n)?n:{};this._setCommonProperties(i,r,t),i.isManual=!t.isAuto,i.behavior=this._getBehavior(t);var o,c,l,f={};if(a)i.behavior=9;else{var d=this._config||{};if((e&&(0,s.o8)(d.syncPageActionNavClick)||d.syncPageActionNavClick)&&(t.actionType===cn||t.actionType===pn)&&"a"===e.tagName.toLowerCase()){var p=(e.getAttribute("href")||"").toLowerCase();p&&((0,s.xe)(p,"https:")||(0,s.xe)(p,"http:")||(0,s.xe)(p,".")||(0,s.xe)(p,"/"))&&(i.sync=3)}}if(e&&(i.targetUri=function(e){var t="";switch(e.tagName){case"A":case"AREA":t=e.href||"";break;case"IMG":t=hn(e);break;case"INPUT":var n=e.type;if(n&&vn[n.toUpperCase()]){var a=(0,u.k$)()||{};t=e.form?e.form.action||a.pathname||"":a.pathname||""}}return t}(e),(f=w(f=this._contentHandler.getElementContent(e,sn.PAGE_ACTION),this._getCustomTags(e)))&&f.bhvr&&!E(t.behavior))){var g=(c="bhvr",(o=f)&&o[c]&&(l=o[c],delete o[c]),l);i.behavior=this._getValidBehavior(g)}E(t.actionType)&&(i.actionType=t.actionType),E(t.clickCoordinateX)&&E(t.clickCoordinateY)&&(i.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY),E(t.targetUri)&&(i.targetUri=t.targetUri),i.contentVer="2.0";var v=t.content||f;if(!(0,s.kJ)(v)){var h=this._config.callback.pageActionContentTags;v=w(v,"function"==typeof h?h(e):{},t&&t.contentTags?t.contentTags:{})}i.content=this._getContentFormatted(v),r.timeToAction=this._getTimeToClick(),r.refUri=E(t.refUri)?t.refUri:this._config.coreData.referrerUri;var m=Tn(this._config,this._traceLogger);m&&(r.cookies=m),this.trackPageAction(i,r)},t.prototype._getCustomTags=function(e){for(var t={};e;){if(!mn(e))for(var n in e.attributes)if(n&&e.attributes[n]){var a=e.attributes[n].name;a&&0===a.toLowerCase().indexOf("ms.")&&(t[a]=e.attributes[n].value)}e=e.parentElement||e.parentNode}return t},t.prototype._getTimeToClick=function(){var e=(0,u.r)();if(e&&e.timing){var t=e.timing.navigationStart;if(t&&0!==t)return(new Date).getTime()-t}return-1},t}(Pn),xn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ne)(t,e),t.prototype.trackContentUpdate=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var a={name:"Ms.Web.ContentUpdate",baseType:"ContentUpdateData",ext:n,data:{},baseData:{},latency:3};(0,s.tO)(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],(function(t){a.baseData[t]=e[t]})),(0,s.rW)(t,(function(e,t){a.data[e]||(a.data[e]=t)})),this._webAnalyticsPlugin.core.track(a)},t.prototype.captureContentUpdate=function(e,t){e=E(e)?e:{};var n={},a=E(t)?t:{};this._setCommonProperties(n,a,e),n.behavior=this._getBehavior(e),E(e.actionType)&&(n.actionType=e.actionType);var i=on(),r=rn();n.pageHeight=T?document.body.scrollHeight:null,n.vpHeight=i.h,n.vpWidth=i.w,n.vScrollOffset=r.v,n.hScrollOffset=r.h,n.contentVer="2.0",n.isManual=!e.isAuto;var o=this._getContentFormatted(e.content)||JSON.stringify(this._contentHandler.getVisibleContent());o&&(n.content=o),E(e.isDomComplete)?a.isDomComplete=e.isDomComplete:a.isDomComplete=!1,this.trackContentUpdate(n,a)},t}(Pn),Rn=function(e){function t(t,n,a,i,r,o){var s=e.call(this,t,n,null,a,{},{},i)||this;return s._webAnalyticsPlugin=t,s._config=n,s._id=a,s._traceLogger=i,s._timestamp=r,s._maxScroll=o,s}return(0,r.ne)(t,e),t.prototype.trackPageUnload=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var a={name:"Ms.Web.PageUnload",baseType:"PageUnloadData",ext:n,data:{},baseData:{},latency:3},i=this._config||{};((0,s.o8)(i.syncUnloadAction)||i.syncUnloadAction)&&(a.sync=3),a.baseData.name=e.name,a.baseData.uri=e.uri,a.baseData.id=e.id,a.baseData.properties=e.properties,a.baseData.ver=e.ver,a.baseData.market=e.market,a.baseData.pageType=e.pageType,a.baseData.isLoggedIn=e.isLoggedIn,(0,s.rW)(t,(function(e,t){a.data[e]||(a.data[e]=t)})),this._webAnalyticsPlugin.core.track(a)},t.prototype.capturePageUnload=function(e,t){e=E(e)?e:{};var n={},a=E(t)?t:{},i=T?document.body.scrollHeight:0;if(this._setBasicProperties(n,e),n.isManual=!e.isAuto,a.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),a.scrollDepth=e.scrollDepth||this._maxScroll.v.toString()+"/"+i.toString(),a.vpHeight=on().h,a.vScrollOffset=e.vScrollOffset||this._maxScroll.v,C){var r=(0,u.r)(),o=r?r.timing:null;o&&o.loadEventStart&&o.navigationStart&&o.loadEventStart>0&&(a.pageLoadTime=o.loadEventStart-o.navigationStart)}this.trackPageUnload(n,a)},t}(Pn),Mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ne)(t,e),t.prototype.capturePageViewPerformance=function(e,t){e=E(e)?e:{};var n={},a=E(t)?t:{};this._setBasicProperties(n,e),this._setPageTags(n,e),n.isManual=!e.isAuto,a.behavior=this._getBehavior(e),a.vpHeight=e.vpHeight,a.vpWidth=e.vpWidth,a.framework=e.framework,a.systemTiming=e.systemTiming,a.customTiming=e.customTiming,this._webAnalyticsPlugin._populatePageViewPerformance(n),this._webAnalyticsPlugin.trackPageViewPerformance(n,a)},t}(Pn),Un=["c:","i:","w:"],Ln={"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"},Vn=function(){function e(t){this.core=t;var n,a=O(),i=(0,p.DO)(),r=null,o=!1,s=(0,d.JP)(t);(0,U.Z)(e,this,(function(e){e.getTraceId=function(){return t&&t.getTraceCtx&&t.getTraceCtx().getTraceId()||i},e.getLastPageViewId=function(){return a},e.initializeIds=function(){o?a=O():o=!0},e.getMuidUserId=function(){var e=A(s,"MUID");return e&&e.length?"t:"+e:e},e.setAppUserId=function(e){if(r=null,e)for(var t=0;t<Un.length;t++)if(Un[t]===e.substring(0,2)){r=e;break}},e.setDeviceClass=function(e){e&&(n=e)},e.getDeviceClass=function(){return n},e.getAppUserId=function(){return r},e.syncMuid=function(e){var t=(0,u.k$)();if(t&&e){var n=(t.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",a=(0,u.Me)();if(a){var i=a.createElement("IMG");i.style.display="none",i.src=n,i.hidden="",i["aria-hidden"]="true",i.role="presentation"}return!0}return!1},e.getMuidHost=function(e){return Ln[e]}}))}return e.visitorId=function(){return A((0,d.JP)(null),"MUID")},e}(),Fn=function(){function e(){this._timers=[]}return e.prototype._recordTimeSpan=function(e,t){var n=(new Date).getTime();if(t)return n-this._timers[e];this._timers[e]=n},e}();function Bn(e){var t={useDefaultContentName:!0,useShortNameForContentBlob:!0,debounceMs:{scroll:600,resize:3e3},biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["MSFPC","ANON"],autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,lineage:!1,jsError:!0,msTags:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null},coreData:{referrerUri:T?document.referrer:"",requestUri:"",pageName:"",pageType:"",product:"",market:"",pageTags:{}},autoPopulateParentIdAndParentName:!1,syncMuid:!1,muidDomain:"microsoft.com"},n=[];return(0,s.rW)(t,(function(e,t){(0,s.Kn)(t)&&n.push(e)})),function(e,t){zt(e),(0,s.tO)(t,(function(t,n){(0,s.Kn)(e[t])?zt(e[t]):delete e[t]}))}(e,n),w(!0,t,e)}var Hn=function(e){function t(){var n,a,i,r,o,u,l,f,d=e.call(this)||this;d.identifier="WebAnalyticsPlugin",d.version="3.2.3";var p,g,v,h=!1;return(0,U.Z)(t,d,(function(e,t){function m(){n=null,a=null,i=null,r=null,o=null,u=null,l=null,f={h:0,v:0},h=!1,p=null,g=null,v=null}function I(e){var t={};return void 0!==e.isManual&&(t.web={},t.web.isManual=void 0===e.isManual||e.isManual,delete e.isManual),t}m(),e.updateCoreDataConfig=function(e){l.coreData=w(!0,l.coreData,e)},e.refreshMetadata=function(){var e=g.getMetadata();n.metaTags=e,i.metaTags=e,a.metaTags=e,o.metaTags=e},e.initialize=function(s,h,m){var I=h;s.extensionConfig=s.extensionConfig||[],s.extensionConfig[e.identifier]=s.extensionConfig[e.identifier]||{},e._config=l=Bn(s.extensionConfig[e.identifier]);var T=l.autoCapture,C=I.getWParam;if(I.getWParam=function(){var e=0;return l.mscomCookies&&(e|=1),e|C()},s.extensionConfig[e.identifier].disableExceptionTracking=!T.jsError,t.initialize(s,h,m),g=g||new An(l,e.diagLog()),v=v||new wn(e,e.diagLog()),l.manageCv){for(var E=0;E<m.length;E++)if("CorrelationVectorPlugin"===m[E].identifier){l.manageCv=!0,u=m[E];break}u||((0,c.kP)(e.diagLog(),2,508,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),l.manageCv=!1)}e.id=new Vn(h),p=new Fn;var b=g.getMetadata();n=new _n(d,l,g,e.id,l.callback.pageViewPageTags,b,e.diagLog()),a=new kn(d,l,g,e.id,l.callback.pageActionPageTags,b,e.diagLog()),i=new xn(d,l,g,e.id,l.callback.contentUpdatePageTags,b,e.diagLog()),r=new Rn(d,l,e.id,e.diagLog(),p,f),o=new Mn(d,l,g,e.id,l.callback.pageViewPageTags,b,e.diagLog()),l.syncMuid&&Cn((function(){var t=e.id.getMuidHost(l.muidDomain);e.id.syncMuid(t)}),e._evtNamespace),T.pageView&&v.pageView(),T.onLoad&&v.onLoad(),T.click&&v.click(),T.scroll&&v.scroll(l.debounceMs),T.resize&&v.resize(l.debounceMs),(T.onUnload||l.manualPageUnload)&&v.maxScroll(f),T.onUnload&&v.onUnload()},e.processTelemetry=function(n,a){k(n,e.identifier);var i=n;"PageviewData"===i.baseType?(i.name="Ms.Web.PageView",i.latency=3):"ExceptionData"===i.baseType?(i.name="Ms.Web.ClientError",i.latency=1,delete i.baseData.aiDataContract):"PageviewPerformanceData"===i.baseType&&(i.name="Ms.Web.PageViewPerformance",i.latency=1,delete i.baseData.isValid,delete i.baseData.durationMs);var r=null;"PageviewData"!==i.baseType?l.manageCv&&(r=u.getCv())&&r.increment():l.manageCv&&((r=u.getCv())?r.seed():r=u.getCv()),t.processTelemetry(i,a)},e.trackEvent=function(t,n){t.latency=t.latency||1,t.baseData=t.baseData||{},t.data=t.data||{},E(n)&&(0,s.rW)(n,(function(e,n){t.data[e]=n})),e.core.track(t)},e.trackPageView=function(n,a){p._recordTimeSpan("dwellTime",!1),f.v=0,h=!1,e.id.initializeIds(),n.id=e.id.getLastPageViewId(),t.sendPageViewInternal(n,a,I(n))},e.capturePageView=function(e,t){n.capturePageView(e,t)},e.trackPageViewPerformance=function(e,n){t.sendPageViewPerformanceInternal(e,n,I(e))},e.capturePageViewPerformance=function(e,t){o.capturePageViewPerformance(e,t)},e.trackException=function(e,n){e.id=e.id||O(),t.sendExceptionInternal(e,n,I(e))},e.trackPageAction=function(e,t){a.trackPageAction(e,t)},e.capturePageAction=function(e,t,n,i){(function(e,t){return!(t&&t.isAuto&&E(en(e,"data-bi-mto"))||$t(e))})(e,t)&&a.capturePageAction(e,t,n,i)},e.trackContentUpdate=function(e,t){i.trackContentUpdate(e,t)},e.captureContentUpdate=function(e,t){i.captureContentUpdate(e,t)},e.trackPageUnload=function(e,t){h||(h=!0,r.trackPageUnload(e,t))},e.capturePageUnload=function(e,t){h||(h=!0,r.capturePageUnload(e,t))},e._populatePageViewPerformance=function(t){var n=e._pageViewPerformanceManager;n&&n.populatePageViewPerformanceEvent(t)},e.setContentHandler=function(e){g=e},e.setAutoCaptureHandler=function(e){v=e},e._doTeardown=function(e,n){v&&v.teardown(e,n),t._doTeardown(e,n),m()}})),d}return(0,r.ne)(t,e),t}(Xt.g),Wn=["snippet","_webAnalytics","_postChannel","_propertyManager","_extensions"],Jn=["queue","extensions","version","sv"],Kn=function(e){function t(){var n,a,i,r,l=e.call(this)||this;function f(){i=new Gt,r=new et,a=new Hn}return(0,U.Z)(t,l,(function(e,t){f(),e.initialize=function(n,l){(0,o.Lm)(e,(function(){return"ApplicationInsights:initialize"}),(function(){var o=[r,a];if(l&&(o=o.concat(l)),n||(0,s._y)("You must provide a config object!"),n.channels&&n.channels.length>0){for(var f=!1,d=0;d<n.channels[0].length;d++)if(n.channels[0][d].identifier===i.identifier){f=!0;break}f||n.channels[0].push(i)}else n.channels=[[i]];var p=n.extensionConfig=n.extensionConfig||[];p[i.identifier]=n?n.channelConfiguration:{},p[r.identifier]=n?n.propertyConfiguration:{},p[a.identifier]=n?n.webAnalyticsConfiguration:{};try{t.initialize(n,o)}catch(t){(0,c.kP)(e.logger,1,514,"Failed to initialize SDK."+(0,u.eU)(t))}}),(function(){return{config:n,extensions:l}}))},e.getPropertyManager=function(){return r},e.getPostChannel=function(){return i},e.getWebAnalyticsExtension=function(){return a},(0,s.Vb)(e,(function(){return a}),["trackEvent","trackPageView","trackPageAction","trackContentUpdate","trackPageUnload","trackException","trackPageViewPerformance","capturePageView","capturePageViewPerformance","capturePageAction","captureContentUpdate","capturePageUnload","_onerror"]),e.emptySnippetQueue=function(t){try{if(t&&((0,s.le)(n),(0,s.rW)(e,(function(e,n){(0,s.HD)(e)&&!(0,s.mf)(n)&&e&&"_"!==e[0]&&-1===(0,s.UA)(Wn,e)&&(t[e]=n)}))),(0,s.kJ)(t.queue)){for(var a=t.queue.length,i=0;i<a;i++){(0,t.queue[i])()}t.queue=void 0,delete t.queue}}catch(e){e&&(0,s.mf)(e.toString)&&e.toString()}},e.updateSnippetDefinitions=function(e){var t=l;t.snippet=e,n=""+(e.sv||e.version||""),t.config?t.config=w(!0,e.config,t.config||{}):t.config=e.config,(0,s.cf)(e,t,(function(e){return e&&-1===(0,s.UA)(Wn,e)&&-1===(0,s.UA)(Jn,e)}))},e.unload=function(e,n,a){void 0===e&&(e=!0),t.unload(e,(function(e){f(),n&&n(e)}),a)}})),l}return(0,r.ne)(t,e),t}(V),jn=n(585694),qn=n(28625),Gn=n(910296),Xn=n(623843),zn=n(859413),Yn=n(899600),Zn=n(739812),Qn=n(430350),$n=function(){function e(){this.baseHash=void 0,this.baseId=0}return e.prototype.getNext=function(){return void 0===this.baseHash&&(this.baseHash=this.generatePsuedoHash()),new ea(this.baseHash,++this.baseId)},e.prototype.getNextChild=function(e){return new ea(e.getString(),++e.nextChild)},e.prototype.generatePsuedoHash=function(){for(var t=[],n=0;n<e.hashLength;n++)t.push(e.characters.charAt(Math.floor(Math.random()*e.characters.length)));return t.join("")},e.characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.hashLength=22,e}(),ea=function(){function e(e,t){this.base=e,this.id=t,this.nextChild=0}return e.prototype.getString=function(){var t="".concat(this.base,".").concat(this.id);return t.length<=e.maxLength?t:t.substring(0,e.maxLength)+e.lastCharacter},e.maxLength=127,e.lastCharacter="!",e}(),ta=function(){return ta=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ta.apply(this,arguments)},na=function(){function e(e){var t,n=this;this._loggedErrorMessages=Object.create(null),this._totalLoggedErrors=0,this.flushLogs=function(){var e=new Promise((function(e,t){n._applicationInsights.flush(!0,(function(n){return n?e():t()}))}));return(0,zn.gn)("flush-aria-logs",e,2e3).catch((function(e){var t=new Xn.EJ;n.logError({category:Gn.WN.Global,error:t})}))},this.setLoggerContextProvider=function(e){n._loggerContextProvider=e},this.setFlightConfigurationIds=function(e){n._loggerContextProvider.setFlightConfiguration(e)},this.logGlobalError=function(e){var t=n.getCustomError({error:e.error,fallbackMessage:e.message});n.logError({category:Gn.WN.Global,label:"GlobalError",error:t})},this.logUnhandledRejection=function(e){var t=n.getCustomError({error:e.reason,fallbackMessage:"Unhandled Promise Rejection"});return n.logError({category:Gn.WN.Global,label:"PromiseRejected",error:t})},this.getPropertiesContext=function(){return n._applicationInsights.getPropertyManager().getPropertiesContext()},this._version=e.version;var a=(0,Qn.pW)();this._correlationVector=new $n,this._applicationInsights=new Kn;var r=null===(t=jn.C.getConfiguration("isEMEATenant"))||void 0===t||t,o=i.v.ariaConfig(r);!r&&jn.C.getConfiguration("updateUsAriaEndpoint")&&(o.channelConfiguration.overrideEndpointUrl="https://us-mobile.events.data.microsoft.com/OneCollector/1.0/"),this._applicationInsights.initialize(o,[]),this._applicationInsights.getPropertyManager().getPropertiesContext().session.setId(a),this._loggerContextProvider={getContext:function(){return Promise.resolve({})},setFlightConfiguration:function(){return null}},window.onerror=null,window.addEventListener("error",this.logGlobalError),window.addEventListener("unhandledrejection",this.logUnhandledRejection)}return e.prototype.logPageView=function(e){var t=this;this.getEventProps(e.props).then((function(n){var a=t.to1dsEventProps(n);t._applicationInsights.trackPageView({name:e.pageName,uri:e.uri,refUri:e.referrerUri,properties:a})}))},e.prototype.logEvent=function(e,t,n){var a=this,i=(t||"").replace(".","");(n=n||{})[Gn.Iu.ShortEventName]=i,n[Gn.Iu.EventName]="".concat(qn.g.Namespace,".").concat(i),n[Gn.Iu.Label]=t,this.getEventProps(n).then((function(t){var n=a.to1dsEventProps(t),i={name:e,data:n};a._applicationInsights.trackEvent(i)}))},e.prototype.logError=function(e){var t;if(null==e.error)throw new Error("logError: error is required");var n=e.error;if(!(n.logged||n.innerError&&n.innerError.logged)){n.logged=!0,n.innerError&&(n.innerError.logged=!0);var a=(0,Yn.Gv)(n.stack);if(!(this._loggedErrorMessages[a]>=10||this._totalLoggedErrors>200)){this._loggedErrorMessages[a]=(this._loggedErrorMessages[a]||0)+1,this._totalLoggedErrors++;var i=ta(((t={})[Gn.Iu.Category]=e.category,t[Gn.Iu.UserRole]=void 0,t.detail=n&&n.message||n,t.stack=n&&n.stack,t),n.loggingInfo);Zn.Id.indexOf(i.detail)>=0&&(i.expected=!0);var r=this.getMessageLabel(i);i.detail=r+i.detail,this.logEvent(Gn.YG.Unexpected,n.label||e.label||"Error",i)}}},e.prototype.getCustomError=function(e){return this.isBaseError(e.error)?(e.error.customMessage&&(e.error.message=e.error.customMessage),e.error):new Xn.E9(e.error||e.fallbackMessage)},e.prototype.isBaseError=function(e){return e&&e.loggingInfo},e.prototype.getEventProps=function(e){return e=e||{},this._loggerContextProvider.getContext(e).then((function(t){return ta(ta({},t=t||{}),e)}))},e.prototype.getMessageLabel=function(e){var t=e.stack;if(null==t?void 0:t.includes){if(t.includes("/rooster"))return"[Rooster] ";if(t.includes("/stream"))return"[Stream] ";if(t.includes("/web_recorder"))return"[Stream] ";if(t.includes("/wac-preboot"))return"[Unified WAC] "}return""},e.prototype.to1dsEventProps=function(e){var t=ta({},e);return t[Gn.Iu.AppInfo_Version]=this._version,t[Gn.Iu.SamplePolicy]=Gn.Xb.Critical,t[Gn.Iu.SchemaVersion]=qn.g.SchemaVersion,t[Gn.Iu.ExpirationDate]=qn.g.ExpirationDateNeverExpire,t[Gn.Iu.Namespace]=qn.g.Namespace,t[Gn.Iu.CorrelationVector]=this._correlationVector.getNext().getString(),t},e}(),aa=new na({tenantToken:i.v.ariaTenantToken,version:i.v.version})},413051:function(e,t,n){n.d(t,{Y:function(){return s}});var a=n(28625),i=n(910296),r=n(623843),o="00000000-0000-0000-0000-000000000000",s=function(){function e(e){this.args=e,this.ecsConfigIds=e.ecsConfig}return e.prototype.setFlightConfiguration=function(e){this.ecsConfigIds=e},e.prototype.getUserRole=function(e){return this.args.onGetUserRole("all"===e?null:e).then((function(e){if(!e)throw new Error("Unable to get user role");return e})).catch((function(e){return(0,r.H)(e),null}))},e.prototype.getSessionInfo=function(){var e=this;return this.args.onGetContext().then((function(t){var n=t.tid,a=t.userObjectId;if(!n||!a)throw new Error;if(null==e.deepLinkOrigin&&t.subEntityId){e.deepLinkOrigin="false";try{var i=JSON.parse(t.subEntityId),r=i.deeplinkType;if(null!=r)switch(r){case 0:e.deepLinkOrigin="AdaptiveCardNotification";break;case 1:e.deepLinkOrigin="ActivityFeedNotification";break;case 2:e.deepLinkOrigin="Calendar";break;case 3:e.deepLinkOrigin="ExportToExcel";break;default:e.deepLinkOrigin="false"}i.appId&&(e.deeplinkReferrerAppId=i.appId)}catch(e){}}return{userId:a,tenantId:n,isArchived:t.isTeamArchived,isMultiWindow:t.isMultiWindow,teamScope:t.teamId?"channel-app":"personal-app",deeplinkType:e.deepLinkOrigin||(!!t.subEntityId).toString(),teamsRing:t.ringId,teamsSessionId:t.sessionId,teamsTrackingId:t.appSessionId,hostClientType:t.hostClientType,deeplinkReferrerAppId:e.deeplinkReferrerAppId}})).catch((function(){return e.args.tokenService.getAuthTokenInfo()})).catch((function(t){return{userId:o,upn:"",tenantId:e.args.defaultTenantId||o,appId:o}}))},e.prototype.getContext=function(e){var t=this,n=e&&e[i.Un.GroupId]||this.args.defaultGroupId||"all",r=!(i.Iu.UserRole in e)?this.getUserRole(n):Promise.resolve(e[i.Iu.UserRole]);return Promise.all([this.getSessionInfo(),r]).then((function(e){var r,s=e[0],c=e[1],u=t.args,l=u.teamsSessionId,f=u.teamsTrackingId,d=f&&"{appSessionId}"!==f?f:s.teamsTrackingId||o,p=l||s.teamsSessionId||o;return(r={})[i.Iu.UserInfo_Id]=s.userId,r[i.Iu.UserInfo_IdType]=a.g.UserObjectId,r[i.Iu.UserInfo_OMSTenantId]=s.tenantId,r[i.Iu.AppInfo_Id]=a.g.AppInfoId,r[i.Iu.AppInfo_Language]=t.args.effectiveLocale,r[i.Iu.TeamsRing]=s.teamsRing,r[i.Iu.TeamsSessionId]=p,r[i.Iu.TeamsTrackingId]=d,r[i.Iu.GroupId]=n,r[i.Iu.UserRole]=c,r[i.Iu.App_Version]=t.args.version,r[i.Iu.App_Ring]=t.args.ring,r[i.Iu.Configuration_Ids]=t.ecsConfigIds,r[i.Iu.IsTaskModule]=t.args.isTaskModule,r[i.Iu.IsArchived]=s.isArchived,r[i.Iu.IsMultiWindow]=s.isMultiWindow,r[i.Iu.TeamScope]=s.teamScope,r[i.Iu.DeeplinkType]=s.deeplinkType,r[i.Iu.HostClientType]=s.hostClientType,r[i.Iu.DeeplinkReferrerAppId]=s.deeplinkReferrerAppId,r}))},e}()}}]);